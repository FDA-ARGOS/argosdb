{"ast":null,"code":"var _jsxFileName = \"/Users/rykahsay/projects/argosdb/app/src/components/history_detail.jsx\";\nimport React, { Component } from \"react\";\nimport Alertdialog from './dialogbox';\nimport Loadingicon from \"./loading_icon\";\nimport * as LocalConfig from \"./local_config\";\nimport { Link } from \"react-router-dom\";\nimport DoubleArrowOutlinedIcon from '@material-ui/icons/DoubleArrowOutlined';\nimport { Chart } from \"react-google-charts\";\nimport $ from \"jquery\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass HistoryDetail extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      dialog: {\n        status: false,\n        msg: \"\"\n      }\n    };\n\n    this.handleDialogClose = () => {\n      var tmpState = this.state;\n      tmpState.dialog.status = false;\n      this.setState(tmpState);\n    };\n  }\n\n  componentDidMount() {\n    var reqObj = {\n      \"coll\": \"c_history\",\n      \"bcoid\": this.props.bcoId\n    };\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(reqObj)\n    };\n    const svcUrl = LocalConfig.apiHash.dataset_history_detail;\n    fetch(svcUrl, requestOptions).then(res => res.json()).then(result => {\n      var tmpState = this.state;\n      tmpState.response = result;\n      tmpState.isLoaded = true;\n\n      if (tmpState.response.status === 0) {\n        tmpState.dialog.status = true;\n        tmpState.dialog.msg = tmpState.response.error;\n      }\n\n      this.setState(tmpState); //console.log(\"Request:\",svcUrl);\n\n      console.log(\"Ajax response:\", result);\n    }, error => {\n      this.setState({\n        isLoaded: true,\n        error\n      });\n    });\n  }\n\n  render() {\n    if (!(\"response\" in this.state)) {\n      return /*#__PURE__*/_jsxDEV(Loadingicon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 14\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pagecn\",\n      children: [/*#__PURE__*/_jsxDEV(Alertdialog, {\n        dialog: this.state.dialog,\n        onClose: this.handleDialogClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"leftblock\",\n        style: {\n          width: \"100%\",\n          margin: \"60px 0px 0px 0px\",\n          fontSize: \"17px\",\n          borderBottom: \"1px solid #ccc\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(DoubleArrowOutlinedIcon, {\n          style: {\n            color: \"#2358C2\",\n            fontSize: \"17px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          className: \"reglink\",\n          children: \"HOME \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), \"\\xA0 / \\xA0\", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\" + this.props.bcoId + \"/history\",\n          className: \"reglink\",\n          children: \"HISTORY DETAIL\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"leftblock\",\n        style: {\n          width: \"100%\",\n          margin: \"40px 0px 0px 0px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"BCO ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 17\n          }, this), \": \", this.state.response.record.bcoid]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 73\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"File Name(s)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }, this), \": \", this.state.response.record.filenames]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          style: {\n            width: \"100%\",\n            margin: \"10px 0px 0px 0px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: this.state.response.record.history.map(obj => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  padding: \"10px\",\n                  border: \"1px solid #ccc\"\n                },\n                children: [\"Version-\", obj.version]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  padding: \"10px\",\n                  border: \"1px solid #ccc\"\n                },\n                children: [obj.recordcount, \" records\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  padding: \"10px\",\n                  border: \"1px solid #ccc\"\n                },\n                children: [obj.additions.length, \" additions\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  style: {\n                    width: \"100%\",\n                    height: \"60px\"\n                  },\n                  children: obj.additions.join(\"\\n\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  padding: \"10px\",\n                  border: \"1px solid #ccc\"\n                },\n                children: [obj.deletions.length, \" deletions\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  style: {\n                    width: \"100%\",\n                    height: \"60px\"\n                  },\n                  children: obj.deletions.join(\"\\n\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default HistoryDetail;","map":{"version":3,"sources":["/Users/rykahsay/projects/argosdb/app/src/components/history_detail.jsx"],"names":["React","Component","Alertdialog","Loadingicon","LocalConfig","Link","DoubleArrowOutlinedIcon","Chart","$","HistoryDetail","state","dialog","status","msg","handleDialogClose","tmpState","setState","componentDidMount","reqObj","props","bcoId","requestOptions","method","headers","body","JSON","stringify","svcUrl","apiHash","dataset_history_detail","fetch","then","res","json","result","response","isLoaded","error","console","log","render","width","margin","fontSize","borderBottom","color","record","bcoid","filenames","history","map","obj","padding","border","version","recordcount","additions","length","height","join","deletions"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Alertdialog from './dialogbox';\nimport Loadingicon from \"./loading_icon\";\nimport * as LocalConfig from \"./local_config\";\nimport { Link } from \"react-router-dom\";\nimport DoubleArrowOutlinedIcon from '@material-ui/icons/DoubleArrowOutlined';\nimport { Chart } from \"react-google-charts\";\n\nimport $ from \"jquery\";\n\n\nclass HistoryDetail extends Component {\n  \n  state = {\n    dialog:{\n      status:false, \n      msg:\"\"\n    }\n  };\n\n\n  handleDialogClose = () => {\n    var tmpState = this.state;\n    tmpState.dialog.status = false;\n    this.setState(tmpState);\n  }\n\n  componentDidMount() {\n\n    var reqObj = {\"coll\":\"c_history\", \"bcoid\":this.props.bcoId};\n    const requestOptions = { \n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(reqObj)\n    };\n    const svcUrl = LocalConfig.apiHash.dataset_history_detail;\n\n\n    fetch(svcUrl, requestOptions)\n      .then((res) => res.json())\n      .then(\n        (result) => {\n          var tmpState = this.state;\n          tmpState.response = result;\n          tmpState.isLoaded = true;          \n          if (tmpState.response.status === 0){\n            tmpState.dialog.status = true;\n            tmpState.dialog.msg = tmpState.response.error;\n          }\n          this.setState(tmpState);\n          //console.log(\"Request:\",svcUrl);\n          console.log(\"Ajax response:\", result);\n        },\n        (error) => {\n          this.setState({\n            isLoaded: true,\n            error,\n          });\n        }\n      );\n  }\n\n\n\n  render() {\n\n    if (!(\"response\" in this.state)){\n      return <Loadingicon/>\n    }\n\n    \n\n    return (\n      <div className=\"pagecn\">\n        <Alertdialog dialog={this.state.dialog} onClose={this.handleDialogClose}/>\n        <div className=\"leftblock\" style={{width:\"100%\", \n          margin:\"60px 0px 0px 0px\", \n          fontSize:\"17px\", borderBottom:\"1px solid #ccc\"}}>\n          <DoubleArrowOutlinedIcon style={{color:\"#2358C2\", fontSize:\"17px\" }}/>\n          &nbsp;\n          <Link to=\"/\" className=\"reglink\">HOME </Link> \n            &nbsp; / &nbsp;\n          <Link to={ \"/\" + this.props.bcoId + \"/history\"} className=\"reglink\">HISTORY DETAIL</Link> \n        </div>\n        <div className=\"leftblock\" style={{width:\"100%\", margin:\"40px 0px 0px 0px\"}}>\n          <span><b>BCO ID</b>: {this.state.response.record.bcoid}</span><br/>\n          <span><b>File Name(s)</b>: {this.state.response.record.filenames}</span>\n          <table style={{width:\"100%\", margin:\"10px 0px 0px 0px\"}}>\n            <tbody>\n              {this.state.response.record.history.map((obj) => (\n                <tr>\n                  <td style={{padding:\"10px\",border:\"1px solid #ccc\"}}>Version-{obj.version}</td>\n                  <td style={{padding:\"10px\",border:\"1px solid #ccc\"}}>{obj.recordcount} records</td>\n                  <td style={{padding:\"10px\",border:\"1px solid #ccc\"}}>\n                    {obj.additions.length} additions<br/>\n                    <textarea style={{width:\"100%\", height:\"60px\"}}>{obj.additions.join(\"\\n\")}</textarea>  \n                  </td>\n                  <td style={{padding:\"10px\",border:\"1px solid #ccc\"}}>\n                    {obj.deletions.length} deletions\n                    <textarea style={{width:\"100%\", height:\"60px\"}}>{obj.deletions.join(\"\\n\")}</textarea>  \n                  </td>\n                </tr>  \n              ))}\n            </tbody>\n          </table>\n        </div>\n\n\n      </div>\n    );\n  }\n}\n\nexport default HistoryDetail;\n\n"]},"metadata":{},"sourceType":"module"}
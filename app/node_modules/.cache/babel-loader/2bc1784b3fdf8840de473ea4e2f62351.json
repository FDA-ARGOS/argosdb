{"ast":null,"code":"import $ from\"jquery\";import React from'react';import{Link}from\"react-router-dom\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export function verifyReqObj(reqObj,fieldDef){var errorList=[];for(var f in fieldDef){if(!(f in reqObj)===true){errorList.push(/*#__PURE__*/_jsxs(\"li\",{children:[\"field \\\"\",f,\"\\\" missing in request\"]}));}else if(reqObj[f].toString()===\"\"){errorList.push(/*#__PURE__*/_jsxs(\"li\",{children:[\"field \\\"\",f,\"\\\" cannot be empty value\"]},\"error_in_\"+f));}else if(typeof reqObj[f]!==fieldDef[f][\"emtype\"]){errorList.push(/*#__PURE__*/_jsxs(\"li\",{children:[\"field \\\"\",f,\"\\\" type mismatch\"]}));}}if(errorList.length===0){return errorList;}console.log(errorList);return/*#__PURE__*/_jsxs(\"ul\",{children:[\" \",errorList,\" \"]});}export function getStarList(starCount){var starList=[];for(var j=1;j<=5;j++){var fg=j<=starCount?\"#F5B041\":\"#cccccc\";var s={cursor:\"pointer\",marginRight:\"1px\",fontSize:\"15px\",color:fg};starList.push(/*#__PURE__*/_jsx(\"i\",{className:\"material-icons\",style:s,children:\"star \"},\"s_\"+j));}return starList;}export function filterObjectList(objList,filterList){var retObj={filterinfo:{},passedobjlist:[]};for(var i in objList){var obj=objList[i];var passCount=0;for(var name in obj.categories){if([\"tags\",\"protein\"].indexOf(name)!==-1){continue;}var value=obj.categories[name].toLowerCase();var combo=name+\"|\"+value;if(!(name in retObj.filterinfo)){retObj.filterinfo[name]={};}if(true){if(!(value in retObj.filterinfo[name])){retObj.filterinfo[name][value]=1;}else{retObj.filterinfo[name][value]+=1;}}if(filterList.indexOf(combo)!==-1){passCount+=1;}}//if (passCount === this.state.filterlist.length){\nif(filterList.length>0){if(passCount>0){retObj.passedobjlist.push(obj);}}else{retObj.passedobjlist.push(obj);}}return retObj;}export function shortText(txt,txtLen){var shortText=\"\";var parts=txt.split(\" \");for(var j in parts){if(shortText.length<txtLen){shortText+=parts[j]+\" \";}else{shortText+=\" ...\";break;}}return shortText;}export function rndrSearchResults(objList,startIdx,endIdx){if(objList.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"row\",style:{color:\"red\",padding:\"0px 0px 100px 20px\"},children:\"No results found!\"});}var bcoPrefix='GLYG_';var dsPrefix='DS_';var cardList=[];for(var i=startIdx-1;i<=endIdx-1;i++){var obj=objList[i];var moleculeType=\"molecule\"in obj[\"categories\"]?obj[\"categories\"][\"molecule\"]:\"\";var speciesType=\"species\"in obj[\"categories\"]?obj[\"categories\"][\"species\"]:\"\";var fileType=\"file_type\"in obj[\"categories\"]?obj[\"categories\"][\"file_type\"]:\"\";var statusType=\"status\"in obj[\"categories\"]?obj[\"categories\"][\"status\"]:\"\";var objId=bcoPrefix+\"0000\".substring(0,10-String(obj[\"bcoid\"]).length)+String(obj[\"_id\"]);objId=obj[\"bcoid\"].replace(bcoPrefix,dsPrefix);var titleText=statusType+' '+moleculeType.toLowerCase();titleText+=' dataset '+objId+' in ';titleText+=fileType.toUpperCase()+' format.';titleText+=' ['+speciesType+']';var imgCn=/*#__PURE__*/_jsx(\"div\",{className:\"leftblock\",style:{width:\"50%\",margin:\"20px 25% 0px 25%\"},children:/*#__PURE__*/_jsx(\"img\",{className:\"card-img-top\",src:\"/imglib/\"+obj.iconfilename})});if(\"minitable\"in obj){imgCn=/*#__PURE__*/_jsx(\"div\",{className:\"leftblock\",style:{width:\"80%\",margin:\"20px 10% 0px 10%\"},children:rndrMiniTable(obj.minitable)});}cardList.push(/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card mb-4 box-shadow\",style:{minWidth:\"350px\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"leftblock\",style:{width:\"90%\",textAlign:\"center\",fontSize:\"15px\",margin:\"20px 5% 0px 5%\"},children:titleText}),/*#__PURE__*/_jsx(\"div\",{className:\"leftblock\",style:{width:\"90%\",textAlign:\"center\",margin:\"20px 5% 0px 5%\"},children:/*#__PURE__*/_jsx(Link,{className:\"reglink\",to:objId,style:{fontWeight:\"bold\"},children:obj.title})}),imgCn,/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",style:{textAlign:\"center\"},children:shortText(obj.description,900)}),/*#__PURE__*/_jsx(\"div\",{className:\"leftblock\",style:{width:\"100%\",textAlign:\"center\",margin:\"20px 0px 20px 0px\"},children:/*#__PURE__*/_jsx(Link,{className:\"reglink\",to:objId,children:\"View Details\"})})]})]})}));}return/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:cardList});}export function sortReleaseList(tmpList,reversedFlag){var factorList=[10000,1000,1];var relDict={};for(var i in tmpList){var rel=tmpList[i];var parts=rel.indexOf(\".\")!==-1?rel.split(\".\"):rel.split(\"_\");var ordr=0;for(var j in parts){ordr+=factorList[j]*parseInt(parts[j]);}relDict[ordr]=rel;}var releaseList=[];var keyList=Object.keys(relDict).sort().reverse();for(var i in keyList){var ordr=keyList[i];releaseList.push(relDict[ordr]);}return releaseList;}export function rndrMiniTable(inObj){var s=\"\";var rowList=[];var cellList=[];for(var j in inObj[\"headers\"]){s={textAlign:\"center\",fontWeight:\"bold\",padding:\"5px 0px 0px 0px\",border:\"1px solid #ccc\"};cellList.push(/*#__PURE__*/_jsx(\"td\",{style:s,children:inObj[\"headers\"][j]},\"cell_\"+j));}rowList.push(/*#__PURE__*/_jsx(\"tr\",{style:{height:\"30px\"},children:cellList}));for(var i=0;i<inObj[\"content\"].length;i++){cellList=[];for(var j in inObj[\"content\"][i]){s={textAlign:\"center\",padding:\"5px 0px 0px 0px\",border:\"1px solid #ccc\"};cellList.push(/*#__PURE__*/_jsx(\"td\",{style:s,children:inObj[\"content\"][i][j]},\"cell_\"+i+j));}rowList.push(/*#__PURE__*/_jsx(\"tr\",{style:{height:\"30px\"},children:cellList},\"row_\"+i));}s={width:\"100%\",fontSize:\"16px\",border:\"1px solid #ccc\"};return/*#__PURE__*/_jsx(\"table\",{style:s,align:\"center\",cellSpacing:\"1\",children:/*#__PURE__*/_jsx(\"tbody\",{children:rowList})});}","map":{"version":3,"sources":["/Users/rykahsay/projects/argosdb/app/src/components/util.jsx"],"names":["$","React","Link","verifyReqObj","reqObj","fieldDef","errorList","f","push","toString","length","console","log","getStarList","starCount","starList","j","fg","s","cursor","marginRight","fontSize","color","filterObjectList","objList","filterList","retObj","filterinfo","passedobjlist","i","obj","passCount","name","categories","indexOf","value","toLowerCase","combo","shortText","txt","txtLen","parts","split","rndrSearchResults","startIdx","endIdx","padding","bcoPrefix","dsPrefix","cardList","moleculeType","speciesType","fileType","statusType","objId","substring","String","replace","titleText","toUpperCase","imgCn","width","margin","iconfilename","rndrMiniTable","minitable","minWidth","textAlign","fontWeight","title","description","sortReleaseList","tmpList","reversedFlag","factorList","relDict","rel","ordr","parseInt","releaseList","keyList","Object","keys","sort","reverse","inObj","rowList","cellList","border","height"],"mappings":"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","sourcesContent":["import $ from \"jquery\";\nimport React from 'react';\nimport { Link } from \"react-router-dom\";\n\n\n\n\nexport function verifyReqObj (reqObj, fieldDef){\n    var errorList = [];\n    for (var f in fieldDef){\n      if(!(f in reqObj) === true){\n          errorList.push(<li>field \"{f}\" missing in request</li>);\n      }\n      else if (reqObj[f].toString() === \"\" ){\n          errorList.push(<li key={\"error_in_\" + f}>field \"{f}\" cannot be empty value</li>);\n      }\n      else if (typeof(reqObj[f]) !== fieldDef[f][\"emtype\"] ){\n        errorList.push(<li>field \"{f}\" type mismatch</li>);\n      }\n    }\n    if (errorList.length === 0){\n        return errorList;\n    }\n    console.log(errorList);\n    return (<ul> {errorList} </ul>);\n}\n\nexport function getStarList(starCount){\n\n  var starList = [];\n  for (var j =1; j <= 5; j++){\n    var fg = (j <= starCount ? \"#F5B041\" : \"#cccccc\");\n    var s = {cursor:\"pointer\",marginRight:\"1px\",fontSize:\"15px\", color:fg};\n    starList.push(<i key={\"s_\"+j} className=\"material-icons\" style={s}>star </i>)\n  }\n  return starList;\n}\n\n\nexport function filterObjectList(objList, filterList) {\n\n    var retObj = {filterinfo:{}, passedobjlist:[]};\n    for (var i in objList) {\n      var obj = objList[i];\n      var passCount = 0;\n      for (var name in obj.categories) {\n        if ([\"tags\",\"protein\"].indexOf(name) !== -1){\n          continue;\n        }\n        var value = obj.categories[name].toLowerCase(); \n        var combo = name + \"|\" + value;\n        if (!(name in retObj.filterinfo)) {\n            retObj.filterinfo[name] = {};\n        }\n        if(true){\n            if (!(value in retObj.filterinfo[name])){\n              retObj.filterinfo[name][value] = 1;\n            }\n            else{\n              retObj.filterinfo[name][value] += 1;\n            }\n        }\n        if (filterList.indexOf(combo) !== -1) {\n          passCount += 1;\n        }\n      }\n      //if (passCount === this.state.filterlist.length){\n      if (filterList.length > 0) {\n        if (passCount > 0) {\n            retObj.passedobjlist.push(obj);\n        }\n      } else {\n        retObj.passedobjlist.push(obj);\n      }\n    }\n\n    return retObj;\n}\n\n\n\nexport function shortText(txt, txtLen) {\n  var shortText = \"\";\n  var parts = txt.split(\" \");\n  for (var j in parts) {\n    if (shortText.length < txtLen) {\n      shortText += parts[j] + \" \";\n    } else {\n      shortText += \" ...\";\n      break;\n    }\n  }\n  return shortText;\n}\n\n\n\nexport function rndrSearchResults(objList, startIdx, endIdx) {\n\n  \n  if (objList.length === 0){\n    return (\n    <div className=\"row\" style={{color:\"red\", padding:\"0px 0px 100px 20px\"}}>\n      No results found!\n      </div>);\n  }\n\n  var bcoPrefix = 'GLYG_';\n  var dsPrefix = 'DS_';\n\n  var cardList = [];\n  for (var i=startIdx - 1; i <= endIdx -1;  i++){\n    var obj = objList[i];\n    \n    var moleculeType = (\"molecule\" in obj[\"categories\"] ? obj[\"categories\"][\"molecule\"] : \"\");\n    var speciesType = (\"species\" in obj[\"categories\"] ? obj[\"categories\"][\"species\"] : \"\");\n    var fileType = (\"file_type\" in obj[\"categories\"] ? obj[\"categories\"][\"file_type\"] : \"\");\n    var statusType = (\"status\" in obj[\"categories\"] ? obj[\"categories\"][\"status\"] : \"\");\n\n    var objId = bcoPrefix + \"0000\".substring(0, 10 - String(obj[\"bcoid\"]).length) + String(obj[\"_id\"]);\n    objId = obj[\"bcoid\"].replace(bcoPrefix, dsPrefix);\n    var titleText = statusType + ' ' + moleculeType.toLowerCase();\n    titleText += ' dataset ' + objId + ' in ';\n    titleText += fileType.toUpperCase() + ' format.';\n    titleText += ' [' + speciesType + ']';\n\n    var imgCn = (\n      <div className=\"leftblock\" style={{width:\"50%\", margin:\"20px 25% 0px 25%\"}}>     \n        <img className=\"card-img-top\" src={\"/imglib/\" + obj.iconfilename}/>\n      </div>\n    );\n    if (\"minitable\" in obj){\n      imgCn = (\n        <div className=\"leftblock\" style={{width:\"80%\", margin:\"20px 10% 0px 10%\"}}>     \n          {rndrMiniTable(obj.minitable)}\n        </div>\n      );\n    }\n\n    cardList.push(\n      <div className=\"col-md-4\">\n        <div className=\"card mb-4 box-shadow\" style={{minWidth:\"350px\"}}>\n            <div className=\"leftblock\" \n              style={{width:\"90%\", textAlign:\"center\",  fontSize:\"15px\", margin:\"20px 5% 0px 5%\"}}>\n              {titleText}\n            </div>\n            <div className=\"leftblock\" \n              style={{width:\"90%\", textAlign:\"center\", margin:\"20px 5% 0px 5%\"}}>\n              <Link className=\"reglink\" to={objId} style={{fontWeight:\"bold\"}}>\n                {obj.title}\n              </Link>\n            </div>\n            {imgCn}\n            <div className=\"card-body\">\n              <p className=\"card-text\" style={{textAlign:\"center\"}}>{shortText(obj.description, 900)}</p>\n                <div className=\"leftblock\" \n                style={{width:\"100%\",textAlign:\"center\", margin:\"20px 0px 20px 0px\"}}>\n                  <Link className=\"reglink\" to={objId}>\n                    View Details\n                  </Link> \n                </div>\n                \n            </div>\n          </div>\n        </div>\n    );\n  }\n  return (<div className=\"row\">{cardList}</div>);\n}\n\n\n\nexport function sortReleaseList(tmpList, reversedFlag){        \n\n    var factorList = [10000, 1000, 1];\n    var relDict = {};\n    for (var i in tmpList){\n        var rel = tmpList[i]\n        var parts = (rel.indexOf(\".\") !== -1 ? rel.split(\".\") : rel.split(\"_\"));\n        var ordr = 0;\n        for (var j in parts){\n            ordr += factorList[j]*parseInt(parts[j]);\n        }\n        relDict[ordr] = rel;\n    }\n\n    var releaseList = [];\n    var keyList = Object.keys(relDict).sort().reverse();\n    for (var i in keyList){\n        var ordr = keyList[i];\n        releaseList.push(relDict[ordr]);\n    }\n    \n    return releaseList;\n\n}\n\nexport function rndrMiniTable(inObj){\n\n  var s = \"\";\n  var rowList = [];\n  var cellList = [];\n  for (var j in inObj[\"headers\"]){\n    s = {textAlign:\"center\",fontWeight:\"bold\",padding:\"5px 0px 0px 0px\", border:\"1px solid #ccc\"};\n    cellList.push(<td key={\"cell_\"+j} style={s}>{inObj[\"headers\"][j]}</td>);\n  }\n  rowList.push(<tr style={{height:\"30px\"}}>{cellList}</tr>);\n  for (var i =0; i < inObj[\"content\"].length; i ++){\n    cellList = [];\n    for (var j in inObj[\"content\"][i]){\n      s = {textAlign:\"center\",padding:\"5px 0px 0px 0px\", border:\"1px solid #ccc\"};\n      cellList.push(<td key={\"cell_\"+i+j} style={s}>{inObj[\"content\"][i][j]}</td>);\n    }\n    rowList.push(<tr key={\"row_\"+i} style={{height:\"30px\"}}>{cellList}</tr>);\n  }\n  s = {width:\"100%\",fontSize:\"16px\",border:\"1px solid #ccc\"};\n  return (\n    <table style={s} align=\"center\" cellSpacing=\"1\">\n      <tbody>{rowList}</tbody>\n    </table>\n  );\n}\n\n\n"]},"metadata":{},"sourceType":"module"}
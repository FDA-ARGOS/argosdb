{"ast":null,"code":"var _jsxFileName = \"/Users/rykahsay/projects/argosdb/app/src/components/util.jsx\";\nimport $ from \"jquery\";\nimport React from 'react';\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function verifyReqObj(reqObj, fieldDef) {\n  var errorList = [];\n\n  for (var f in fieldDef) {\n    if (!(f in reqObj) === true) {\n      errorList.push( /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [\"field \\\"\", f, \"\\\" missing in request\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 26\n      }, this));\n    } else if (reqObj[f].toString() === \"\") {\n      errorList.push( /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [\"field \\\"\", f, \"\\\" cannot be empty value\"]\n      }, \"error_in_\" + f, true, {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 26\n      }, this));\n    } else if (typeof reqObj[f] !== fieldDef[f][\"emtype\"]) {\n      errorList.push( /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [\"field \\\"\", f, \"\\\" type mismatch\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 24\n      }, this));\n    }\n  }\n\n  if (errorList.length === 0) {\n    return errorList;\n  }\n\n  console.log(errorList);\n  return /*#__PURE__*/_jsxDEV(\"ul\", {\n    children: [\" \", errorList, \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 13\n  }, this);\n}\nexport function getStarList(starCount) {\n  var starList = [];\n\n  for (var j = 1; j <= 5; j++) {\n    var fg = j <= starCount ? \"#F5B041\" : \"#cccccc\";\n    var s = {\n      cursor: \"pointer\",\n      marginRight: \"1px\",\n      fontSize: \"15px\",\n      color: fg\n    };\n    starList.push( /*#__PURE__*/_jsxDEV(\"i\", {\n      className: \"material-icons\",\n      style: s,\n      children: \"star \"\n    }, \"s_\" + j, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 19\n    }, this));\n  }\n\n  return starList;\n}\nexport function filterObjectList(objList, filterList) {\n  var retObj = {\n    filterinfo: {},\n    passedobjlist: []\n  };\n\n  for (var i in objList) {\n    var obj = objList[i];\n    var passCount = 0;\n\n    for (var name in obj.categories) {\n      if ([\"tags\", \"protein\"].indexOf(name) !== -1) {\n        continue;\n      }\n\n      var value = obj.categories[name];\n      var combo = name + \"|\" + value;\n\n      if (!(name in retObj.filterinfo)) {\n        retObj.filterinfo[name] = {};\n      }\n\n      if (true) {\n        if (!(value in retObj.filterinfo[name])) {\n          retObj.filterinfo[name][value] = 1;\n        } else {\n          retObj.filterinfo[name][value] += 1;\n        }\n      }\n\n      if (filterList.indexOf(combo) !== -1) {\n        passCount += 1;\n      }\n    } //if (passCount === this.state.filterlist.length){\n\n\n    if (filterList.length > 0) {\n      if (passCount > 0) {\n        retObj.passedobjlist.push(obj);\n      }\n    } else {\n      retObj.passedobjlist.push(obj);\n    }\n  }\n\n  return retObj;\n}\nexport function shortText(txt, txtLen) {\n  var shortText = \"\";\n  var parts = txt.split(\" \");\n\n  for (var j in parts) {\n    if (shortText.length < txtLen) {\n      shortText += parts[j] + \" \";\n    } else {\n      shortText += \" ...\";\n      break;\n    }\n  }\n\n  return shortText;\n}\nexport function rndrSearchResults(objList, startIdx, endIdx) {\n  var bcoPrefix = 'GLYG_';\n  var dsPrefix = 'DS_';\n  var cardList = [];\n\n  for (var i = startIdx - 1; i <= endIdx - 1; i++) {\n    var obj = objList[i];\n    var moleculeType = \"molecule\" in obj[\"categories\"] ? obj[\"categories\"][\"molecule\"] : \"\";\n    var speciesType = \"species\" in obj[\"categories\"] ? obj[\"categories\"][\"species\"] : \"\";\n    var fileType = \"file_type\" in obj[\"categories\"] ? obj[\"categories\"][\"file_type\"] : \"\";\n    var statusType = \"status\" in obj[\"categories\"] ? obj[\"categories\"][\"status\"] : \"\";\n    var objId = bcoPrefix + \"0000\".substring(0, 10 - String(obj[\"_id\"]).length) + String(obj[\"_id\"]);\n    objId = obj[\"_id\"].replace(bcoPrefix, dsPrefix);\n    var titleText = statusType + ' ' + moleculeType.toLowerCase();\n    titleText += ' dataset ' + objId + ' in ';\n    titleText += fileType.toUpperCase() + ' format.';\n    titleText += ' [' + speciesType + ']';\n\n    var imgCn = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"leftblock\",\n      style: {\n        width: \"50%\",\n        margin: \"20px 25% 0px 25%\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"card-img-top\",\n        src: \"/imglib/\" + obj.iconfilename\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this);\n\n    if (\"minitable\" in obj) {\n      imgCn = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"leftblock\",\n        style: {\n          width: \"80%\",\n          margin: \"20px 10% 0px 10%\"\n        },\n        children: rndrMiniTable(obj.minitable)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this);\n    }\n\n    cardList.push( /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card mb-4 box-shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"leftblock\",\n          style: {\n            width: \"90%\",\n            textAlign: \"center\",\n            fontSize: \"15px\",\n            margin: \"20px 5% 0px 5%\"\n          },\n          children: titleText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"leftblock\",\n          style: {\n            width: \"90%\",\n            textAlign: \"center\",\n            margin: \"20px 5% 0px 5%\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            className: \"reglink\",\n            to: \"/xxx\",\n            style: {\n              fontWeight: \"bold\"\n            },\n            children: obj.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }, this), imgCn, /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"card-text\",\n            style: {\n              textAlign: \"center\"\n            },\n            children: shortText(obj.description, 900)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"leftblock\",\n            style: {\n              width: \"100%\",\n              textAlign: \"center\",\n              margin: \"20px 0px 20px 0px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              className: \"reglink\",\n              to: \"/xxx\",\n              children: \"View Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row\",\n    children: cardList\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 11\n  }, this);\n}\nexport function rndrMiniTable(inObj) {\n  var s = \"\";\n  var rowList = [];\n  var cellList = [];\n\n  for (var j in inObj[\"headers\"]) {\n    s = {\n      textAlign: \"center\",\n      fontWeight: \"bold\",\n      padding: \"5px 0px 0px 0px\",\n      border: \"1px solid #ccc\"\n    };\n    cellList.push( /*#__PURE__*/_jsxDEV(\"td\", {\n      style: s,\n      children: inObj[\"headers\"][j]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 19\n    }, this));\n  }\n\n  rowList.push( /*#__PURE__*/_jsxDEV(\"tr\", {\n    style: {\n      height: \"30px\"\n    },\n    children: cellList\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 179,\n    columnNumber: 16\n  }, this));\n\n  for (var i = 0; i < inObj[\"content\"].length; i++) {\n    cellList = [];\n\n    for (var j in inObj[\"content\"][i]) {\n      s = {\n        textAlign: \"center\",\n        padding: \"5px 0px 0px 0px\",\n        border: \"1px solid #ccc\"\n      };\n      cellList.push( /*#__PURE__*/_jsxDEV(\"td\", {\n        style: s,\n        children: inObj[\"content\"][i][j]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 21\n      }, this));\n    }\n\n    rowList.push( /*#__PURE__*/_jsxDEV(\"tr\", {\n      style: {\n        height: \"30px\"\n      },\n      children: cellList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 18\n    }, this));\n  }\n\n  s = {\n    width: \"100%\",\n    fontSize: \"16px\",\n    border: \"1px solid #ccc\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"table\", {\n    style: s,\n    align: \"center\",\n    cellspacing: \"1\",\n    children: rowList\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 190,\n    columnNumber: 5\n  }, this);\n}\nexport function rndrPagination(startIdx, endIdx) {\n  var liList = [];\n  liList.push( /*#__PURE__*/_jsxDEV(\"li\", {\n    className: \"page-item disabled\",\n    children: /*#__PURE__*/_jsxDEV(\"a\", {\n      className: \"page-link\",\n      href: \"#\",\n      tabindex: \"-1\",\n      children: \"Previous\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 50\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 200,\n    columnNumber: 15\n  }, this));\n\n  for (var i = startIdx; i <= endIdx; i++) {\n    liList.push( /*#__PURE__*/_jsxDEV(\"li\", {\n      className: \"page-item\",\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"page-link\",\n        href: \"#\",\n        children: i\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 43\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 17\n    }, this));\n  }\n\n  liList.push( /*#__PURE__*/_jsxDEV(\"li\", {\n    className: \"page-item\",\n    children: /*#__PURE__*/_jsxDEV(\"a\", {\n      className: \"page-link\",\n      href: \"#\",\n      children: \"Next\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 41\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 204,\n    columnNumber: 15\n  }, this));\n  return /*#__PURE__*/_jsxDEV(\"nav\", {\n    \"aria-label\": \"Page navigation example\",\n    style: {\n      height: \"40px\",\n      border: \"1px dashed red\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n      class: \"pagination justify-content-end\",\n      style: {\n        border: \"1px dashed red\"\n      },\n      children: liList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 207,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"sources":["/Users/rykahsay/projects/argosdb/app/src/components/util.jsx"],"names":["$","React","Link","verifyReqObj","reqObj","fieldDef","errorList","f","push","toString","length","console","log","getStarList","starCount","starList","j","fg","s","cursor","marginRight","fontSize","color","filterObjectList","objList","filterList","retObj","filterinfo","passedobjlist","i","obj","passCount","name","categories","indexOf","value","combo","shortText","txt","txtLen","parts","split","rndrSearchResults","startIdx","endIdx","bcoPrefix","dsPrefix","cardList","moleculeType","speciesType","fileType","statusType","objId","substring","String","replace","titleText","toLowerCase","toUpperCase","imgCn","width","margin","iconfilename","rndrMiniTable","minitable","textAlign","fontWeight","title","description","inObj","rowList","cellList","padding","border","height","rndrPagination","liList"],"mappings":";AAAA,OAAOA,CAAP,MAAc,QAAd;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;;AAKA,OAAO,SAASC,YAAT,CAAuBC,MAAvB,EAA+BC,QAA/B,EAAwC;AAC3C,MAAIC,SAAS,GAAG,EAAhB;;AACA,OAAK,IAAIC,CAAT,IAAcF,QAAd,EAAuB;AACrB,QAAG,EAAEE,CAAC,IAAIH,MAAP,MAAmB,IAAtB,EAA2B;AACvBE,MAAAA,SAAS,CAACE,IAAV,eAAe;AAAA,+BAAYD,CAAZ;AAAA;AAAA;AAAA;AAAA;AAAA,cAAf;AACH,KAFD,MAGK,IAAIH,MAAM,CAACG,CAAD,CAAN,CAAUE,QAAV,OAAyB,EAA7B,EAAiC;AAClCH,MAAAA,SAAS,CAACE,IAAV,eAAe;AAAA,+BAAkCD,CAAlC;AAAA,SAAS,cAAcA,CAAvB;AAAA;AAAA;AAAA;AAAA,cAAf;AACH,KAFI,MAGA,IAAI,OAAOH,MAAM,CAACG,CAAD,CAAb,KAAsBF,QAAQ,CAACE,CAAD,CAAR,CAAY,QAAZ,CAA1B,EAAiD;AACpDD,MAAAA,SAAS,CAACE,IAAV,eAAe;AAAA,+BAAYD,CAAZ;AAAA;AAAA;AAAA;AAAA;AAAA,cAAf;AACD;AACF;;AACD,MAAID,SAAS,CAACI,MAAV,KAAqB,CAAzB,EAA2B;AACvB,WAAOJ,SAAP;AACH;;AACDK,EAAAA,OAAO,CAACC,GAAR,CAAYN,SAAZ;AACA,sBAAQ;AAAA,oBAAMA,SAAN;AAAA;AAAA;AAAA;AAAA;AAAA,UAAR;AACH;AAED,OAAO,SAASO,WAAT,CAAqBC,SAArB,EAA+B;AAEpC,MAAIC,QAAQ,GAAG,EAAf;;AACA,OAAK,IAAIC,CAAC,GAAE,CAAZ,EAAeA,CAAC,IAAI,CAApB,EAAuBA,CAAC,EAAxB,EAA2B;AACzB,QAAIC,EAAE,GAAID,CAAC,IAAIF,SAAL,GAAiB,SAAjB,GAA6B,SAAvC;AACA,QAAII,CAAC,GAAG;AAACC,MAAAA,MAAM,EAAC,SAAR;AAAkBC,MAAAA,WAAW,EAAC,KAA9B;AAAoCC,MAAAA,QAAQ,EAAC,MAA7C;AAAqDC,MAAAA,KAAK,EAACL;AAA3D,KAAR;AACAF,IAAAA,QAAQ,CAACP,IAAT,eAAc;AAAgB,MAAA,SAAS,EAAC,gBAA1B;AAA2C,MAAA,KAAK,EAAEU,CAAlD;AAAA;AAAA,OAAQ,OAAKF,CAAb;AAAA;AAAA;AAAA;AAAA,YAAd;AACD;;AACD,SAAOD,QAAP;AACD;AAGD,OAAO,SAASQ,gBAAT,CAA0BC,OAA1B,EAAmCC,UAAnC,EAA+C;AAElD,MAAIC,MAAM,GAAG;AAACC,IAAAA,UAAU,EAAC,EAAZ;AAAgBC,IAAAA,aAAa,EAAC;AAA9B,GAAb;;AACA,OAAK,IAAIC,CAAT,IAAcL,OAAd,EAAuB;AACrB,QAAIM,GAAG,GAAGN,OAAO,CAACK,CAAD,CAAjB;AACA,QAAIE,SAAS,GAAG,CAAhB;;AACA,SAAK,IAAIC,IAAT,IAAiBF,GAAG,CAACG,UAArB,EAAiC;AAC/B,UAAI,CAAC,MAAD,EAAQ,SAAR,EAAmBC,OAAnB,CAA2BF,IAA3B,MAAqC,CAAC,CAA1C,EAA4C;AAC1C;AACD;;AACD,UAAIG,KAAK,GAAGL,GAAG,CAACG,UAAJ,CAAeD,IAAf,CAAZ;AAEA,UAAII,KAAK,GAAGJ,IAAI,GAAG,GAAP,GAAaG,KAAzB;;AACA,UAAI,EAAEH,IAAI,IAAIN,MAAM,CAACC,UAAjB,CAAJ,EAAkC;AAC9BD,QAAAA,MAAM,CAACC,UAAP,CAAkBK,IAAlB,IAA0B,EAA1B;AACH;;AACD,UAAG,IAAH,EAAQ;AACJ,YAAI,EAAEG,KAAK,IAAIT,MAAM,CAACC,UAAP,CAAkBK,IAAlB,CAAX,CAAJ,EAAwC;AACtCN,UAAAA,MAAM,CAACC,UAAP,CAAkBK,IAAlB,EAAwBG,KAAxB,IAAiC,CAAjC;AACD,SAFD,MAGI;AACFT,UAAAA,MAAM,CAACC,UAAP,CAAkBK,IAAlB,EAAwBG,KAAxB,KAAkC,CAAlC;AACD;AACJ;;AACD,UAAIV,UAAU,CAACS,OAAX,CAAmBE,KAAnB,MAA8B,CAAC,CAAnC,EAAsC;AACpCL,QAAAA,SAAS,IAAI,CAAb;AACD;AACF,KAxBoB,CAyBrB;;;AACA,QAAIN,UAAU,CAACf,MAAX,GAAoB,CAAxB,EAA2B;AACzB,UAAIqB,SAAS,GAAG,CAAhB,EAAmB;AACfL,QAAAA,MAAM,CAACE,aAAP,CAAqBpB,IAArB,CAA0BsB,GAA1B;AACH;AACF,KAJD,MAIO;AACLJ,MAAAA,MAAM,CAACE,aAAP,CAAqBpB,IAArB,CAA0BsB,GAA1B;AACD;AACF;;AAED,SAAOJ,MAAP;AACH;AAID,OAAO,SAASW,SAAT,CAAmBC,GAAnB,EAAwBC,MAAxB,EAAgC;AACrC,MAAIF,SAAS,GAAG,EAAhB;AACA,MAAIG,KAAK,GAAGF,GAAG,CAACG,KAAJ,CAAU,GAAV,CAAZ;;AACA,OAAK,IAAIzB,CAAT,IAAcwB,KAAd,EAAqB;AACnB,QAAIH,SAAS,CAAC3B,MAAV,GAAmB6B,MAAvB,EAA+B;AAC7BF,MAAAA,SAAS,IAAIG,KAAK,CAACxB,CAAD,CAAL,GAAW,GAAxB;AACD,KAFD,MAEO;AACLqB,MAAAA,SAAS,IAAI,MAAb;AACA;AACD;AACF;;AACD,SAAOA,SAAP;AACD;AAID,OAAO,SAASK,iBAAT,CAA2BlB,OAA3B,EAAoCmB,QAApC,EAA8CC,MAA9C,EAAsD;AAI3D,MAAIC,SAAS,GAAG,OAAhB;AACA,MAAIC,QAAQ,GAAG,KAAf;AAEA,MAAIC,QAAQ,GAAG,EAAf;;AACA,OAAK,IAAIlB,CAAC,GAACc,QAAQ,GAAG,CAAtB,EAAyBd,CAAC,IAAIe,MAAM,GAAE,CAAtC,EAA0Cf,CAAC,EAA3C,EAA8C;AAC5C,QAAIC,GAAG,GAAGN,OAAO,CAACK,CAAD,CAAjB;AACA,QAAImB,YAAY,GAAI,cAAclB,GAAG,CAAC,YAAD,CAAjB,GAAkCA,GAAG,CAAC,YAAD,CAAH,CAAkB,UAAlB,CAAlC,GAAkE,EAAtF;AACA,QAAImB,WAAW,GAAI,aAAanB,GAAG,CAAC,YAAD,CAAhB,GAAiCA,GAAG,CAAC,YAAD,CAAH,CAAkB,SAAlB,CAAjC,GAAgE,EAAnF;AACA,QAAIoB,QAAQ,GAAI,eAAepB,GAAG,CAAC,YAAD,CAAlB,GAAmCA,GAAG,CAAC,YAAD,CAAH,CAAkB,WAAlB,CAAnC,GAAoE,EAApF;AACA,QAAIqB,UAAU,GAAI,YAAYrB,GAAG,CAAC,YAAD,CAAf,GAAgCA,GAAG,CAAC,YAAD,CAAH,CAAkB,QAAlB,CAAhC,GAA8D,EAAhF;AAEA,QAAIsB,KAAK,GAAGP,SAAS,GAAG,OAAOQ,SAAP,CAAiB,CAAjB,EAAoB,KAAKC,MAAM,CAACxB,GAAG,CAAC,KAAD,CAAJ,CAAN,CAAmBpB,MAA5C,CAAZ,GAAkE4C,MAAM,CAACxB,GAAG,CAAC,KAAD,CAAJ,CAApF;AACAsB,IAAAA,KAAK,GAAGtB,GAAG,CAAC,KAAD,CAAH,CAAWyB,OAAX,CAAmBV,SAAnB,EAA8BC,QAA9B,CAAR;AACA,QAAIU,SAAS,GAAGL,UAAU,GAAG,GAAb,GAAmBH,YAAY,CAACS,WAAb,EAAnC;AACAD,IAAAA,SAAS,IAAI,cAAcJ,KAAd,GAAsB,MAAnC;AACAI,IAAAA,SAAS,IAAIN,QAAQ,CAACQ,WAAT,KAAyB,UAAtC;AACAF,IAAAA,SAAS,IAAI,OAAOP,WAAP,GAAqB,GAAlC;;AAEA,QAAIU,KAAK,gBACP;AAAK,MAAA,SAAS,EAAC,WAAf;AAA2B,MAAA,KAAK,EAAE;AAACC,QAAAA,KAAK,EAAC,KAAP;AAAcC,QAAAA,MAAM,EAAC;AAArB,OAAlC;AAAA,6BACE;AAAK,QAAA,SAAS,EAAC,cAAf;AAA8B,QAAA,GAAG,EAAE,aAAa/B,GAAG,CAACgC;AAApD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;;AAKA,QAAI,eAAehC,GAAnB,EAAuB;AACrB6B,MAAAA,KAAK,gBACH;AAAK,QAAA,SAAS,EAAC,WAAf;AAA2B,QAAA,KAAK,EAAE;AAACC,UAAAA,KAAK,EAAC,KAAP;AAAcC,UAAAA,MAAM,EAAC;AAArB,SAAlC;AAAA,kBACGE,aAAa,CAACjC,GAAG,CAACkC,SAAL;AADhB;AAAA;AAAA;AAAA;AAAA,cADF;AAKD;;AAEDjB,IAAAA,QAAQ,CAACvC,IAAT,eACE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA,6BACE;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAA,gCACI;AAAK,UAAA,SAAS,EAAC,WAAf;AACE,UAAA,KAAK,EAAE;AAACoD,YAAAA,KAAK,EAAC,KAAP;AAAcK,YAAAA,SAAS,EAAC,QAAxB;AAAmC5C,YAAAA,QAAQ,EAAC,MAA5C;AAAoDwC,YAAAA,MAAM,EAAC;AAA3D,WADT;AAAA,oBAEGL;AAFH;AAAA;AAAA;AAAA;AAAA,gBADJ,eAKI;AAAK,UAAA,SAAS,EAAC,WAAf;AACE,UAAA,KAAK,EAAE;AAACI,YAAAA,KAAK,EAAC,KAAP;AAAcK,YAAAA,SAAS,EAAC,QAAxB;AAAkCJ,YAAAA,MAAM,EAAC;AAAzC,WADT;AAAA,iCAEE,QAAC,IAAD;AAAM,YAAA,SAAS,EAAC,SAAhB;AAA0B,YAAA,EAAE,EAAE,MAA9B;AAAsC,YAAA,KAAK,EAAE;AAACK,cAAAA,UAAU,EAAC;AAAZ,aAA7C;AAAA,sBACGpC,GAAG,CAACqC;AADP;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA,gBALJ,EAWKR,KAXL,eAYI;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA,kCACE;AAAG,YAAA,SAAS,EAAC,WAAb;AAAyB,YAAA,KAAK,EAAE;AAACM,cAAAA,SAAS,EAAC;AAAX,aAAhC;AAAA,sBAAuD5B,SAAS,CAACP,GAAG,CAACsC,WAAL,EAAkB,GAAlB;AAAhE;AAAA;AAAA;AAAA;AAAA,kBADF,eAEI;AAAK,YAAA,SAAS,EAAC,WAAf;AACA,YAAA,KAAK,EAAE;AAACR,cAAAA,KAAK,EAAC,MAAP;AAAcK,cAAAA,SAAS,EAAC,QAAxB;AAAkCJ,cAAAA,MAAM,EAAC;AAAzC,aADP;AAAA,mCAEE,QAAC,IAAD;AAAM,cAAA,SAAS,EAAC,SAAhB;AAA0B,cAAA,EAAE,EAAE,MAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAZJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AA2BD;;AACD,sBAAQ;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA,cAAsBd;AAAtB;AAAA;AAAA;AAAA;AAAA,UAAR;AACD;AAOD,OAAO,SAASgB,aAAT,CAAuBM,KAAvB,EAA6B;AAElC,MAAInD,CAAC,GAAG,EAAR;AACA,MAAIoD,OAAO,GAAG,EAAd;AACA,MAAIC,QAAQ,GAAG,EAAf;;AACA,OAAK,IAAIvD,CAAT,IAAcqD,KAAK,CAAC,SAAD,CAAnB,EAA+B;AAC7BnD,IAAAA,CAAC,GAAG;AAAC+C,MAAAA,SAAS,EAAC,QAAX;AAAoBC,MAAAA,UAAU,EAAC,MAA/B;AAAsCM,MAAAA,OAAO,EAAC,iBAA9C;AAAiEC,MAAAA,MAAM,EAAC;AAAxE,KAAJ;AACAF,IAAAA,QAAQ,CAAC/D,IAAT,eAAc;AAAI,MAAA,KAAK,EAAEU,CAAX;AAAA,gBAAemD,KAAK,CAAC,SAAD,CAAL,CAAiBrD,CAAjB;AAAf;AAAA;AAAA;AAAA;AAAA,YAAd;AACD;;AACDsD,EAAAA,OAAO,CAAC9D,IAAR,eAAa;AAAI,IAAA,KAAK,EAAE;AAACkE,MAAAA,MAAM,EAAC;AAAR,KAAX;AAAA,cAA6BH;AAA7B;AAAA;AAAA;AAAA;AAAA,UAAb;;AACA,OAAK,IAAI1C,CAAC,GAAE,CAAZ,EAAeA,CAAC,GAAGwC,KAAK,CAAC,SAAD,CAAL,CAAiB3D,MAApC,EAA4CmB,CAAC,EAA7C,EAAiD;AAC/C0C,IAAAA,QAAQ,GAAG,EAAX;;AACA,SAAK,IAAIvD,CAAT,IAAcqD,KAAK,CAAC,SAAD,CAAL,CAAiBxC,CAAjB,CAAd,EAAkC;AAChCX,MAAAA,CAAC,GAAG;AAAC+C,QAAAA,SAAS,EAAC,QAAX;AAAoBO,QAAAA,OAAO,EAAC,iBAA5B;AAA+CC,QAAAA,MAAM,EAAC;AAAtD,OAAJ;AACAF,MAAAA,QAAQ,CAAC/D,IAAT,eAAc;AAAI,QAAA,KAAK,EAAEU,CAAX;AAAA,kBAAemD,KAAK,CAAC,SAAD,CAAL,CAAiBxC,CAAjB,EAAoBb,CAApB;AAAf;AAAA;AAAA;AAAA;AAAA,cAAd;AACD;;AACDsD,IAAAA,OAAO,CAAC9D,IAAR,eAAa;AAAI,MAAA,KAAK,EAAE;AAACkE,QAAAA,MAAM,EAAC;AAAR,OAAX;AAAA,gBAA6BH;AAA7B;AAAA;AAAA;AAAA;AAAA,YAAb;AACD;;AACDrD,EAAAA,CAAC,GAAG;AAAC0C,IAAAA,KAAK,EAAC,MAAP;AAAcvC,IAAAA,QAAQ,EAAC,MAAvB;AAA8BoD,IAAAA,MAAM,EAAC;AAArC,GAAJ;AACA,sBACE;AAAO,IAAA,KAAK,EAAEvD,CAAd;AAAiB,IAAA,KAAK,EAAC,QAAvB;AAAgC,IAAA,WAAW,EAAC,GAA5C;AAAA,cACGoD;AADH;AAAA;AAAA;AAAA;AAAA,UADF;AAKD;AAGD,OAAO,SAASK,cAAT,CAAwBhC,QAAxB,EAAkCC,MAAlC,EAAyC;AAE9C,MAAIgC,MAAM,GAAG,EAAb;AACAA,EAAAA,MAAM,CAACpE,IAAP,eAAY;AAAI,IAAA,SAAS,EAAC,oBAAd;AAAA,2BAAmC;AAAG,MAAA,SAAS,EAAC,WAAb;AAAyB,MAAA,IAAI,EAAC,GAA9B;AAAkC,MAAA,QAAQ,EAAC,IAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAnC;AAAA;AAAA;AAAA;AAAA,UAAZ;;AACA,OAAK,IAAIqB,CAAC,GAACc,QAAX,EAAqBd,CAAC,IAAIe,MAA1B,EAAkCf,CAAC,EAAnC,EAAuC;AACrC+C,IAAAA,MAAM,CAACpE,IAAP,eAAY;AAAI,MAAA,SAAS,EAAC,WAAd;AAAA,6BAA0B;AAAG,QAAA,SAAS,EAAC,WAAb;AAAyB,QAAA,IAAI,EAAC,GAA9B;AAAA,kBAAmCqB;AAAnC;AAAA;AAAA;AAAA;AAAA;AAA1B;AAAA;AAAA;AAAA;AAAA,YAAZ;AACD;;AACD+C,EAAAA,MAAM,CAACpE,IAAP,eAAY;AAAI,IAAA,SAAS,EAAC,WAAd;AAAA,2BAA0B;AAAG,MAAA,SAAS,EAAC,WAAb;AAAyB,MAAA,IAAI,EAAC,GAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA1B;AAAA;AAAA;AAAA;AAAA,UAAZ;AAEA,sBACE;AAAK,kBAAW,yBAAhB;AACE,IAAA,KAAK,EAAE;AAACkE,MAAAA,MAAM,EAAC,MAAR;AAAgBD,MAAAA,MAAM,EAAC;AAAvB,KADT;AAAA,2BAEE;AAAI,MAAA,KAAK,EAAC,gCAAV;AACE,MAAA,KAAK,EAAE;AAACA,QAAAA,MAAM,EAAC;AAAR,OADT;AAAA,gBAGGG;AAHH;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA,UADF;AAUD","sourcesContent":["import $ from \"jquery\";\nimport React from 'react';\nimport { Link } from \"react-router-dom\";\n\n\n\n\nexport function verifyReqObj (reqObj, fieldDef){\n    var errorList = [];\n    for (var f in fieldDef){\n      if(!(f in reqObj) === true){\n          errorList.push(<li>field \"{f}\" missing in request</li>);\n      }\n      else if (reqObj[f].toString() === \"\" ){\n          errorList.push(<li key={\"error_in_\" + f}>field \"{f}\" cannot be empty value</li>);\n      }\n      else if (typeof(reqObj[f]) !== fieldDef[f][\"emtype\"] ){\n        errorList.push(<li>field \"{f}\" type mismatch</li>);\n      }\n    }\n    if (errorList.length === 0){\n        return errorList;\n    }\n    console.log(errorList);\n    return (<ul> {errorList} </ul>);\n}\n\nexport function getStarList(starCount){\n\n  var starList = [];\n  for (var j =1; j <= 5; j++){\n    var fg = (j <= starCount ? \"#F5B041\" : \"#cccccc\");\n    var s = {cursor:\"pointer\",marginRight:\"1px\",fontSize:\"15px\", color:fg};\n    starList.push(<i key={\"s_\"+j} className=\"material-icons\" style={s}>star </i>)\n  }\n  return starList;\n}\n\n\nexport function filterObjectList(objList, filterList) {\n\n    var retObj = {filterinfo:{}, passedobjlist:[]};\n    for (var i in objList) {\n      var obj = objList[i];\n      var passCount = 0;\n      for (var name in obj.categories) {\n        if ([\"tags\",\"protein\"].indexOf(name) !== -1){\n          continue;\n        }\n        var value = obj.categories[name];\n        \n        var combo = name + \"|\" + value;\n        if (!(name in retObj.filterinfo)) {\n            retObj.filterinfo[name] = {};\n        }\n        if(true){\n            if (!(value in retObj.filterinfo[name])){\n              retObj.filterinfo[name][value] = 1;\n            }\n            else{\n              retObj.filterinfo[name][value] += 1;\n            }\n        }\n        if (filterList.indexOf(combo) !== -1) {\n          passCount += 1;\n        }\n      }\n      //if (passCount === this.state.filterlist.length){\n      if (filterList.length > 0) {\n        if (passCount > 0) {\n            retObj.passedobjlist.push(obj);\n        }\n      } else {\n        retObj.passedobjlist.push(obj);\n      }\n    }\n\n    return retObj;\n}\n\n\n\nexport function shortText(txt, txtLen) {\n  var shortText = \"\";\n  var parts = txt.split(\" \");\n  for (var j in parts) {\n    if (shortText.length < txtLen) {\n      shortText += parts[j] + \" \";\n    } else {\n      shortText += \" ...\";\n      break;\n    }\n  }\n  return shortText;\n}\n\n\n\nexport function rndrSearchResults(objList, startIdx, endIdx) {\n\n  \n\n  var bcoPrefix = 'GLYG_';\n  var dsPrefix = 'DS_';\n\n  var cardList = [];\n  for (var i=startIdx - 1; i <= endIdx -1;  i++){\n    var obj = objList[i];\n    var moleculeType = (\"molecule\" in obj[\"categories\"] ? obj[\"categories\"][\"molecule\"] : \"\");\n    var speciesType = (\"species\" in obj[\"categories\"] ? obj[\"categories\"][\"species\"] : \"\");\n    var fileType = (\"file_type\" in obj[\"categories\"] ? obj[\"categories\"][\"file_type\"] : \"\");\n    var statusType = (\"status\" in obj[\"categories\"] ? obj[\"categories\"][\"status\"] : \"\");\n\n    var objId = bcoPrefix + \"0000\".substring(0, 10 - String(obj[\"_id\"]).length) + String(obj[\"_id\"]);\n    objId = obj[\"_id\"].replace(bcoPrefix, dsPrefix);\n    var titleText = statusType + ' ' + moleculeType.toLowerCase();\n    titleText += ' dataset ' + objId + ' in ';\n    titleText += fileType.toUpperCase() + ' format.';\n    titleText += ' [' + speciesType + ']';\n\n    var imgCn = (\n      <div className=\"leftblock\" style={{width:\"50%\", margin:\"20px 25% 0px 25%\"}}>     \n        <img className=\"card-img-top\" src={\"/imglib/\" + obj.iconfilename}/>\n      </div>\n    );\n    if (\"minitable\" in obj){\n      imgCn = (\n        <div className=\"leftblock\" style={{width:\"80%\", margin:\"20px 10% 0px 10%\"}}>     \n          {rndrMiniTable(obj.minitable)}\n        </div>\n      );\n    }\n\n    cardList.push(\n      <div className=\"col-md-4\">\n        <div className=\"card mb-4 box-shadow\">\n            <div className=\"leftblock\" \n              style={{width:\"90%\", textAlign:\"center\",  fontSize:\"15px\", margin:\"20px 5% 0px 5%\"}}>\n              {titleText}\n            </div>\n            <div className=\"leftblock\" \n              style={{width:\"90%\", textAlign:\"center\", margin:\"20px 5% 0px 5%\"}}>\n              <Link className=\"reglink\" to={\"/xxx\"} style={{fontWeight:\"bold\"}}>\n                {obj.title}\n              </Link>\n            </div>\n            {imgCn}\n            <div className=\"card-body\">\n              <p className=\"card-text\" style={{textAlign:\"center\"}}>{shortText(obj.description, 900)}</p>\n                <div className=\"leftblock\" \n                style={{width:\"100%\",textAlign:\"center\", margin:\"20px 0px 20px 0px\"}}>\n                  <Link className=\"reglink\" to={\"/xxx\"}>\n                    View Details\n                  </Link> \n                </div>\n                \n            </div>\n          </div>\n        </div>\n    );\n  }\n  return (<div className=\"row\">{cardList}</div>);\n}\n\n\n\n        \n\n\nexport function rndrMiniTable(inObj){\n\n  var s = \"\";\n  var rowList = [];\n  var cellList = [];\n  for (var j in inObj[\"headers\"]){\n    s = {textAlign:\"center\",fontWeight:\"bold\",padding:\"5px 0px 0px 0px\", border:\"1px solid #ccc\"};\n    cellList.push(<td style={s}>{inObj[\"headers\"][j]}</td>);\n  }\n  rowList.push(<tr style={{height:\"30px\"}}>{cellList}</tr>);\n  for (var i =0; i < inObj[\"content\"].length; i ++){\n    cellList = [];\n    for (var j in inObj[\"content\"][i]){\n      s = {textAlign:\"center\",padding:\"5px 0px 0px 0px\", border:\"1px solid #ccc\"};\n      cellList.push(<td style={s}>{inObj[\"content\"][i][j]}</td>);\n    }\n    rowList.push(<tr style={{height:\"30px\"}}>{cellList}</tr>);\n  }\n  s = {width:\"100%\",fontSize:\"16px\",border:\"1px solid #ccc\"};\n  return (\n    <table style={s} align=\"center\" cellspacing=\"1\">\n      {rowList}\n    </table>\n  );\n}\n\n\nexport function rndrPagination(startIdx, endIdx){\n\n  var liList = [];\n  liList.push(<li className=\"page-item disabled\"><a className=\"page-link\" href=\"#\" tabindex=\"-1\">Previous</a></li>);\n  for (var i=startIdx; i <= endIdx; i ++){\n    liList.push(<li className=\"page-item\"><a className=\"page-link\" href=\"#\">{i}</a></li>);\n  }\n  liList.push(<li className=\"page-item\"><a className=\"page-link\" href=\"#\">Next</a></li>);\n  \n  return (\n    <nav aria-label=\"Page navigation example\" \n      style={{height:\"40px\", border:\"1px dashed red\"}}>\n      <ul class=\"pagination justify-content-end\"\n        style={{border:\"1px dashed red\"}}>\n      \n        {liList}\n      </ul>\n    </nav>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/rykahsay/projects/argosdb/app/src/components/util.jsx\";\nimport $ from \"jquery\";\nimport * as Zulamodule from \"./module_exports\";\nimport React from 'react';\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function verifyReqObj(reqObj, fieldDef) {\n  var errorList = [];\n\n  for (var f in fieldDef) {\n    if (!(f in reqObj) === true) {\n      errorList.push( /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [\"field \\\"\", f, \"\\\" missing in request\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 26\n      }, this));\n    } else if (reqObj[f].toString() === \"\") {\n      errorList.push( /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [\"field \\\"\", f, \"\\\" cannot be empty value\"]\n      }, \"error_in_\" + f, true, {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 26\n      }, this));\n    } else if (typeof reqObj[f] !== fieldDef[f][\"emtype\"]) {\n      errorList.push( /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [\"field \\\"\", f, \"\\\" type mismatch\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 24\n      }, this));\n    }\n  }\n\n  if (errorList.length === 0) {\n    return errorList;\n  }\n\n  console.log(errorList);\n  return /*#__PURE__*/_jsxDEV(\"ul\", {\n    children: [\" \", errorList, \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 13\n  }, this);\n}\nexport function getStarList(starCount) {\n  var starList = [];\n\n  for (var j = 1; j <= 5; j++) {\n    var fg = j <= starCount ? \"#F5B041\" : \"#cccccc\";\n    var s = {\n      cursor: \"pointer\",\n      marginRight: \"1px\",\n      fontSize: \"15px\",\n      color: fg\n    };\n    starList.push( /*#__PURE__*/_jsxDEV(\"i\", {\n      className: \"material-icons\",\n      style: s,\n      children: \"star \"\n    }, \"s_\" + j, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 19\n    }, this));\n  }\n\n  return starList;\n}\nexport function rndrPrice(priceInfo) {\n  var priceParts = priceInfo[\"price\"].toString().split(\".\");\n\n  if (priceParts[1] === undefined) {\n    priceParts[1] = \"00\";\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"sup\", {\n      children: /*#__PURE__*/_jsxDEV(\"font\", {\n        className: \"item_price_txt_two\",\n        children: \"$\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"font\", {\n      className: \"item_price_txt_one\",\n      children: priceParts[0]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"sup\", {\n      children: /*#__PURE__*/_jsxDEV(\"font\", {\n        className: \"item_price_txt_two\",\n        children: [\". \", priceParts[1]]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this), \" \", priceInfo[\"currency\"]]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 7\n  }, this);\n}\nexport function rndrUnitPrice(priceInfo) {\n  var priceParts = priceInfo[\"price\"].toString().split(\".\");\n\n  if (priceParts[1] === undefined) {\n    priceParts[1] = \"00\";\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    children: [\"$\", priceParts[0], \".\", priceParts[1], \" \", priceInfo[\"currency\"]]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 7\n  }, this);\n}\nexport function rndrTotalPrice(priceInfo, itemCount, dateCount) {\n  var totalPrice = parseFloat(priceInfo[\"price\"]) * parseFloat(itemCount) * parseFloat(dateCount);\n  var priceParts = totalPrice.toString().split(\".\");\n\n  if (priceParts[1] === undefined) {\n    priceParts[1] = \"00\";\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    children: [\"$\", priceParts[0], \".\", priceParts[1], \" \", priceInfo[\"currency\"]]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 7\n  }, this);\n}\nexport function filterObjectList(objList, filterList) {\n  var retObj = {\n    filterinfo: {},\n    passedobjlist: []\n  };\n\n  for (var i in objList) {\n    var obj = objList[i];\n    var passCount = 0;\n\n    for (var j in obj.categories) {\n      var o = obj.categories[j];\n      var combo = o.name + \"|\" + o.value;\n\n      if (!(o.name in retObj.filterinfo)) {\n        //retObj.filterinfo[o.name] = [];\n        retObj.filterinfo[o.name] = {};\n      } //if (retObj.filterinfo[o.name].indexOf(o.value) === -1) {\n\n\n      if (true) {\n        //retObj.filterinfo[o.name].push(o.value);\n        if (!(o.value in retObj.filterinfo[o.name])) {\n          retObj.filterinfo[o.name][o.value] = 1;\n        } else {\n          retObj.filterinfo[o.name][o.value] += 1;\n        }\n      }\n\n      if (filterList.indexOf(combo) !== -1) {\n        passCount += 1;\n      }\n    } //if (passCount === this.state.filterlist.length){\n\n\n    if (filterList.length > 0) {\n      if (passCount > 0) {\n        retObj.passedobjlist.push(obj);\n      }\n    } else {\n      retObj.passedobjlist.push(obj);\n    }\n  }\n\n  return retObj;\n}\nexport async function getLoginResponse() {\n  var reqObj = {};\n  var jqClass = \".loginform\";\n  $(jqClass).each(function () {\n    var fieldName = $(this).attr(\"id\");\n    var fieldValue = $(this).val();\n    reqObj[fieldName] = fieldValue;\n  });\n  console.log(\"loginReq\", reqObj); //var errorList = verifyReqObj(reqObj, formJson.one);    \n  //if (errorList.length !== 0) {\n  //  return {status:0, error:\"request object verification failed\"};\n  //}\n\n  const requestOptions = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(reqObj),\n    credentials: 'include'\n  };\n  const svcUrl = Zulamodule.apiHash.login;\n  const response = await fetch(svcUrl, requestOptions);\n  const result = await response.json();\n  return result;\n}\nexport async function getLogoutResponse() {\n  const requestOptions = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      \"logout\": true\n    }),\n    credentials: 'include'\n  };\n  const svcUrl = Zulamodule.apiHash.logout;\n  const response = await fetch(svcUrl, requestOptions);\n  const result = await response.json();\n  console.log(\"logout\", result);\n  return result;\n}\nexport function shortText(txt, txtLen) {\n  var shortText = \"\";\n  var parts = txt.split(\" \");\n\n  for (var j in parts) {\n    if (shortText.length < txtLen) {\n      shortText += parts[j] + \" \";\n    } else {\n      shortText += \" ...\";\n      break;\n    }\n  }\n\n  return shortText;\n}\nexport function rndrSearchResults(objList) {\n  const d1 = {\n    width: \"100%\",\n    margin: \"0px 0px 20px 0px\"\n  };\n  const d2 = {\n    fontSize: \"13px\"\n  };\n  const d3 = {\n    color: \"#999\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: objList.map(obj => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: d1,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: d2,\n        children: [obj.url, \" \", \">\", \" \", obj.categories[0].value, \" \"]\n      }, objList.indexOf(obj), true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          className: \"reglink\",\n          to: {\n            pathname: obj.url,\n            state: {\n              siteinfo: {\n                siteid: obj.siteid,\n                sitekey: obj.sitekey,\n                bsnsid: obj.bsnsid,\n                name: obj.name,\n                reviews: obj.reviews\n              }\n            }\n          },\n          children: [obj.name, \" - \", obj.motto]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this)\n      }, \"id_12\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: shortText(obj.description, 200)\n      }, \"id_13\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: d3,\n        children: [obj.city, \" \", \",\", \" \", obj.country]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this)]\n    }, obj.name, true, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 211,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"sources":["/Users/rykahsay/projects/argosdb/app/src/components/util.jsx"],"names":["$","Zulamodule","React","Link","verifyReqObj","reqObj","fieldDef","errorList","f","push","toString","length","console","log","getStarList","starCount","starList","j","fg","s","cursor","marginRight","fontSize","color","rndrPrice","priceInfo","priceParts","split","undefined","rndrUnitPrice","rndrTotalPrice","itemCount","dateCount","totalPrice","parseFloat","filterObjectList","objList","filterList","retObj","filterinfo","passedobjlist","i","obj","passCount","categories","o","combo","name","value","indexOf","getLoginResponse","jqClass","each","fieldName","attr","fieldValue","val","requestOptions","method","headers","body","JSON","stringify","credentials","svcUrl","apiHash","login","response","fetch","result","json","getLogoutResponse","logout","shortText","txt","txtLen","parts","rndrSearchResults","d1","width","margin","d2","d3","map","url","pathname","state","siteinfo","siteid","sitekey","bsnsid","reviews","motto","description","city","country"],"mappings":";AAAA,OAAOA,CAAP,MAAc,QAAd;AACA,OAAO,KAAKC,UAAZ,MAA4B,kBAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;;AAKA,OAAO,SAASC,YAAT,CAAuBC,MAAvB,EAA+BC,QAA/B,EAAwC;AAC3C,MAAIC,SAAS,GAAG,EAAhB;;AACA,OAAK,IAAIC,CAAT,IAAcF,QAAd,EAAuB;AACrB,QAAG,EAAEE,CAAC,IAAIH,MAAP,MAAmB,IAAtB,EAA2B;AACvBE,MAAAA,SAAS,CAACE,IAAV,eAAe;AAAA,+BAAYD,CAAZ;AAAA;AAAA;AAAA;AAAA;AAAA,cAAf;AACH,KAFD,MAGK,IAAIH,MAAM,CAACG,CAAD,CAAN,CAAUE,QAAV,OAAyB,EAA7B,EAAiC;AAClCH,MAAAA,SAAS,CAACE,IAAV,eAAe;AAAA,+BAAkCD,CAAlC;AAAA,SAAS,cAAcA,CAAvB;AAAA;AAAA;AAAA;AAAA,cAAf;AACH,KAFI,MAGA,IAAI,OAAOH,MAAM,CAACG,CAAD,CAAb,KAAsBF,QAAQ,CAACE,CAAD,CAAR,CAAY,QAAZ,CAA1B,EAAiD;AACpDD,MAAAA,SAAS,CAACE,IAAV,eAAe;AAAA,+BAAYD,CAAZ;AAAA;AAAA;AAAA;AAAA;AAAA,cAAf;AACD;AACF;;AACD,MAAID,SAAS,CAACI,MAAV,KAAqB,CAAzB,EAA2B;AACvB,WAAOJ,SAAP;AACH;;AACDK,EAAAA,OAAO,CAACC,GAAR,CAAYN,SAAZ;AACA,sBAAQ;AAAA,oBAAMA,SAAN;AAAA;AAAA;AAAA;AAAA;AAAA,UAAR;AACH;AAED,OAAO,SAASO,WAAT,CAAqBC,SAArB,EAA+B;AAEpC,MAAIC,QAAQ,GAAG,EAAf;;AACA,OAAK,IAAIC,CAAC,GAAE,CAAZ,EAAeA,CAAC,IAAI,CAApB,EAAuBA,CAAC,EAAxB,EAA2B;AACzB,QAAIC,EAAE,GAAID,CAAC,IAAIF,SAAL,GAAiB,SAAjB,GAA6B,SAAvC;AACA,QAAII,CAAC,GAAG;AAACC,MAAAA,MAAM,EAAC,SAAR;AAAkBC,MAAAA,WAAW,EAAC,KAA9B;AAAoCC,MAAAA,QAAQ,EAAC,MAA7C;AAAqDC,MAAAA,KAAK,EAACL;AAA3D,KAAR;AACAF,IAAAA,QAAQ,CAACP,IAAT,eAAc;AAAgB,MAAA,SAAS,EAAC,gBAA1B;AAA2C,MAAA,KAAK,EAAEU,CAAlD;AAAA;AAAA,OAAQ,OAAKF,CAAb;AAAA;AAAA;AAAA;AAAA,YAAd;AACD;;AACD,SAAOD,QAAP;AACD;AAID,OAAO,SAASQ,SAAT,CAAoBC,SAApB,EAA+B;AAClC,MAAIC,UAAU,GAAGD,SAAS,CAAC,OAAD,CAAT,CAAmBf,QAAnB,GAA8BiB,KAA9B,CAAoC,GAApC,CAAjB;;AACA,MAAID,UAAU,CAAC,CAAD,CAAV,KAAkBE,SAAtB,EAAiC;AAC/BF,IAAAA,UAAU,CAAC,CAAD,CAAV,GAAgB,IAAhB;AACD;;AAED,sBACE;AAAA,4BACE;AAAA,6BACE;AAAM,QAAA,SAAS,EAAC,oBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,eAIE;AAAM,MAAA,SAAS,EAAC,oBAAhB;AAAA,gBACGA,UAAU,CAAC,CAAD;AADb;AAAA;AAAA;AAAA;AAAA,YAJF,eAOE;AAAA,6BACE;AAAM,QAAA,SAAS,EAAC,oBAAhB;AAAA,yBACKA,UAAU,CAAC,CAAD,CADf;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAPF,EAWS,GAXT,EAYGD,SAAS,CAAC,UAAD,CAZZ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAgBD;AAIH,OAAO,SAASI,aAAT,CAAwBJ,SAAxB,EAAmC;AACtC,MAAIC,UAAU,GAAGD,SAAS,CAAC,OAAD,CAAT,CAAmBf,QAAnB,GAA8BiB,KAA9B,CAAoC,GAApC,CAAjB;;AACA,MAAID,UAAU,CAAC,CAAD,CAAV,KAAkBE,SAAtB,EAAiC;AAC/BF,IAAAA,UAAU,CAAC,CAAD,CAAV,GAAgB,IAAhB;AACD;;AAED,sBACE;AAAA,oBAAQA,UAAU,CAAC,CAAD,CAAlB,OAAwBA,UAAU,CAAC,CAAD,CAAlC,OAAwCD,SAAS,CAAC,UAAD,CAAjD;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAGD;AAED,OAAO,SAASK,cAAT,CAAyBL,SAAzB,EAAoCM,SAApC,EAA+CC,SAA/C,EAA0D;AAE/D,MAAIC,UAAU,GAAGC,UAAU,CAACT,SAAS,CAAC,OAAD,CAAV,CAAV,GAAiCS,UAAU,CAACH,SAAD,CAA3C,GAAyDG,UAAU,CAACF,SAAD,CAApF;AACA,MAAIN,UAAU,GAAGO,UAAU,CAACvB,QAAX,GAAsBiB,KAAtB,CAA4B,GAA5B,CAAjB;;AACA,MAAID,UAAU,CAAC,CAAD,CAAV,KAAkBE,SAAtB,EAAiC;AAC/BF,IAAAA,UAAU,CAAC,CAAD,CAAV,GAAgB,IAAhB;AACD;;AACD,sBACE;AAAA,oBAAQA,UAAU,CAAC,CAAD,CAAlB,OAAwBA,UAAU,CAAC,CAAD,CAAlC,OAAwCD,SAAS,CAAC,UAAD,CAAjD;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAGD;AAOD,OAAO,SAASU,gBAAT,CAA0BC,OAA1B,EAAmCC,UAAnC,EAA+C;AAEpD,MAAIC,MAAM,GAAG;AAACC,IAAAA,UAAU,EAAC,EAAZ;AAAgBC,IAAAA,aAAa,EAAC;AAA9B,GAAb;;AACA,OAAK,IAAIC,CAAT,IAAcL,OAAd,EAAuB;AACrB,QAAIM,GAAG,GAAGN,OAAO,CAACK,CAAD,CAAjB;AACA,QAAIE,SAAS,GAAG,CAAhB;;AACA,SAAK,IAAI1B,CAAT,IAAcyB,GAAG,CAACE,UAAlB,EAA8B;AAC5B,UAAIC,CAAC,GAAGH,GAAG,CAACE,UAAJ,CAAe3B,CAAf,CAAR;AACA,UAAI6B,KAAK,GAAGD,CAAC,CAACE,IAAF,GAAS,GAAT,GAAeF,CAAC,CAACG,KAA7B;;AACA,UAAI,EAAEH,CAAC,CAACE,IAAF,IAAUT,MAAM,CAACC,UAAnB,CAAJ,EAAoC;AAChC;AACAD,QAAAA,MAAM,CAACC,UAAP,CAAkBM,CAAC,CAACE,IAApB,IAA4B,EAA5B;AACH,OAN2B,CAO5B;;;AACA,UAAG,IAAH,EAAQ;AACJ;AACA,YAAI,EAAEF,CAAC,CAACG,KAAF,IAAWV,MAAM,CAACC,UAAP,CAAkBM,CAAC,CAACE,IAApB,CAAb,CAAJ,EAA4C;AAC1CT,UAAAA,MAAM,CAACC,UAAP,CAAkBM,CAAC,CAACE,IAApB,EAA0BF,CAAC,CAACG,KAA5B,IAAqC,CAArC;AACD,SAFD,MAGI;AACFV,UAAAA,MAAM,CAACC,UAAP,CAAkBM,CAAC,CAACE,IAApB,EAA0BF,CAAC,CAACG,KAA5B,KAAsC,CAAtC;AACD;AACJ;;AACD,UAAIX,UAAU,CAACY,OAAX,CAAmBH,KAAnB,MAA8B,CAAC,CAAnC,EAAsC;AACpCH,QAAAA,SAAS,IAAI,CAAb;AACD;AACF,KAvBoB,CAwBrB;;;AACA,QAAIN,UAAU,CAAC1B,MAAX,GAAoB,CAAxB,EAA2B;AACzB,UAAIgC,SAAS,GAAG,CAAhB,EAAmB;AACfL,QAAAA,MAAM,CAACE,aAAP,CAAqB/B,IAArB,CAA0BiC,GAA1B;AACH;AACF,KAJD,MAIO;AACLJ,MAAAA,MAAM,CAACE,aAAP,CAAqB/B,IAArB,CAA0BiC,GAA1B;AACD;AACF;;AAED,SAAOJ,MAAP;AACH;AAGD,OAAO,eAAeY,gBAAf,GAAqC;AAG1C,MAAI7C,MAAM,GAAG,EAAb;AACA,MAAI8C,OAAO,GAAG,YAAd;AACAnD,EAAAA,CAAC,CAACmD,OAAD,CAAD,CAAWC,IAAX,CAAgB,YAAY;AACxB,QAAIC,SAAS,GAAGrD,CAAC,CAAC,IAAD,CAAD,CAAQsD,IAAR,CAAa,IAAb,CAAhB;AACA,QAAIC,UAAU,GAAGvD,CAAC,CAAC,IAAD,CAAD,CAAQwD,GAAR,EAAjB;AACAnD,IAAAA,MAAM,CAACgD,SAAD,CAAN,GAAoBE,UAApB;AACH,GAJD;AAKA3C,EAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBR,MAAxB,EAV0C,CAY1C;AACA;AACA;AACA;;AAEA,QAAMoD,cAAc,GAAG;AACrBC,IAAAA,MAAM,EAAE,MADa;AAErBC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT,KAFY;AAKrBC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAezD,MAAf,CALe;AAMrB0D,IAAAA,WAAW,EAAE;AANQ,GAAvB;AAQA,QAAMC,MAAM,GAAG/D,UAAU,CAACgE,OAAX,CAAmBC,KAAlC;AACA,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACJ,MAAD,EAASP,cAAT,CAA5B;AACA,QAAMY,MAAM,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAArB;AACA,SAAOD,MAAP;AAED;AAGD,OAAO,eAAeE,iBAAf,GAAsC;AAE3C,QAAMd,cAAc,GAAG;AACrBC,IAAAA,MAAM,EAAE,MADa;AAErBC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT,KAFY;AAKrBC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAC,gBAAS;AAAV,KAAf,CALe;AAMrBC,IAAAA,WAAW,EAAE;AANQ,GAAvB;AAQA,QAAMC,MAAM,GAAG/D,UAAU,CAACgE,OAAX,CAAmBO,MAAlC;AACA,QAAML,QAAQ,GAAG,MAAMC,KAAK,CAACJ,MAAD,EAASP,cAAT,CAA5B;AACA,QAAMY,MAAM,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAArB;AACA1D,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBwD,MAAtB;AACA,SAAOA,MAAP;AAED;AAED,OAAO,SAASI,SAAT,CAAmBC,GAAnB,EAAwBC,MAAxB,EAAgC;AACrC,MAAIF,SAAS,GAAG,EAAhB;AACA,MAAIG,KAAK,GAAGF,GAAG,CAAC/C,KAAJ,CAAU,GAAV,CAAZ;;AACA,OAAK,IAAIV,CAAT,IAAc2D,KAAd,EAAqB;AACnB,QAAIH,SAAS,CAAC9D,MAAV,GAAmBgE,MAAvB,EAA+B;AAC7BF,MAAAA,SAAS,IAAIG,KAAK,CAAC3D,CAAD,CAAL,GAAW,GAAxB;AACD,KAFD,MAEO;AACLwD,MAAAA,SAAS,IAAI,MAAb;AACA;AACD;AACF;;AACD,SAAOA,SAAP;AACD;AAID,OAAO,SAASI,iBAAT,CAA2BzC,OAA3B,EAAoC;AAEzC,QAAM0C,EAAE,GAAG;AAAEC,IAAAA,KAAK,EAAE,MAAT;AAAiBC,IAAAA,MAAM,EAAE;AAAzB,GAAX;AACA,QAAMC,EAAE,GAAG;AAAE3D,IAAAA,QAAQ,EAAE;AAAZ,GAAX;AACA,QAAM4D,EAAE,GAAG;AAAE3D,IAAAA,KAAK,EAAE;AAAT,GAAX;AAEA,sBACE;AAAA,cACCa,OAAO,CAAC+C,GAAR,CAAazC,GAAD,iBACX;AAAoB,MAAA,KAAK,EAAEoC,EAA3B;AAAA,8BACE;AAAK,QAAA,KAAK,EAAEG,EAAZ;AAAA,mBACGvC,GAAG,CAAC0C,GADP,OACa,GADb,OACmB1C,GAAG,CAACE,UAAJ,CAAe,CAAf,EAAkBI,KADrC,EAC4C,GAD5C;AAAA,SAAqBZ,OAAO,CAACa,OAAR,CAAgBP,GAAhB,CAArB;AAAA;AAAA;AAAA;AAAA,cADF,eAIE;AAAA,+BACE,QAAC,IAAD;AAAM,UAAA,SAAS,EAAC,SAAhB;AACE,UAAA,EAAE,EACE;AAAE2C,YAAAA,QAAQ,EAAE3C,GAAG,CAAC0C,GAAhB;AACEE,YAAAA,KAAK,EAAE;AACLC,cAAAA,QAAQ,EAAC;AACPC,gBAAAA,MAAM,EAAC9C,GAAG,CAAC8C,MADJ;AACYC,gBAAAA,OAAO,EAAC/C,GAAG,CAAC+C,OADxB;AAEPC,gBAAAA,MAAM,EAAChD,GAAG,CAACgD,MAFJ;AAGT3C,gBAAAA,IAAI,EAACL,GAAG,CAACK,IAHA;AAGK4C,gBAAAA,OAAO,EAACjD,GAAG,CAACiD;AAHjB;AADJ;AADT,WAFN;AAAA,qBAWEjD,GAAG,CAACK,IAXN,SAWeL,GAAG,CAACkD,KAXnB;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,SAAS,OAAT;AAAA;AAAA;AAAA;AAAA,cAJF,eAkBE;AAAA,kBAAkBnB,SAAS,CAAC/B,GAAG,CAACmD,WAAL,EAAkB,GAAlB;AAA3B,SAAS,OAAT;AAAA;AAAA;AAAA;AAAA,cAlBF,eAmBE;AAAK,QAAA,KAAK,EAAEX,EAAZ;AAAA,mBAAiBxC,GAAG,CAACoD,IAArB,OAA4B,GAA5B,OAAkCpD,GAAG,CAACqD,OAAtC;AAAA;AAAA;AAAA;AAAA;AAAA,cAnBF;AAAA,OAAUrD,GAAG,CAACK,IAAd;AAAA;AAAA;AAAA;AAAA,YADD;AADD;AAAA;AAAA;AAAA;AAAA,UADF;AA2BD","sourcesContent":["import $ from \"jquery\";\nimport * as Zulamodule from \"./module_exports\";\nimport React from 'react';\nimport { Link } from \"react-router-dom\";\n\n\n\n\nexport function verifyReqObj (reqObj, fieldDef){\n    var errorList = [];\n    for (var f in fieldDef){\n      if(!(f in reqObj) === true){\n          errorList.push(<li>field \"{f}\" missing in request</li>);\n      }\n      else if (reqObj[f].toString() === \"\" ){\n          errorList.push(<li key={\"error_in_\" + f}>field \"{f}\" cannot be empty value</li>);\n      }\n      else if (typeof(reqObj[f]) !== fieldDef[f][\"emtype\"] ){\n        errorList.push(<li>field \"{f}\" type mismatch</li>);\n      }\n    }\n    if (errorList.length === 0){\n        return errorList;\n    }\n    console.log(errorList);\n    return (<ul> {errorList} </ul>);\n}\n\nexport function getStarList(starCount){\n\n  var starList = [];\n  for (var j =1; j <= 5; j++){\n    var fg = (j <= starCount ? \"#F5B041\" : \"#cccccc\");\n    var s = {cursor:\"pointer\",marginRight:\"1px\",fontSize:\"15px\", color:fg};\n    starList.push(<i key={\"s_\"+j} className=\"material-icons\" style={s}>star </i>)\n  }\n  return starList;\n}\n\n\n\nexport function rndrPrice (priceInfo) {\n    var priceParts = priceInfo[\"price\"].toString().split(\".\");\n    if (priceParts[1] === undefined) {\n      priceParts[1] = \"00\";\n    }\n\n    return (\n      <div>\n        <sup>\n          <font className=\"item_price_txt_two\">$</font>\n        </sup>\n        <font className=\"item_price_txt_one\">\n          {priceParts[0]}\n        </font>\n        <sup>\n          <font className=\"item_price_txt_two\">\n            . {priceParts[1]}\n          </font>\n        </sup>{\" \"}\n        {priceInfo[\"currency\"]}\n      </div>\n    );\n  }\n\n\n\nexport function rndrUnitPrice (priceInfo) {\n    var priceParts = priceInfo[\"price\"].toString().split(\".\");\n    if (priceParts[1] === undefined) {\n      priceParts[1] = \"00\";\n    }\n\n    return (\n      <span>${priceParts[0]}.{priceParts[1]} {priceInfo[\"currency\"]}</span>\n    );\n  }\n\n  export function rndrTotalPrice (priceInfo, itemCount, dateCount) {\n\n    var totalPrice = parseFloat(priceInfo[\"price\"]) * parseFloat(itemCount) * parseFloat(dateCount) ;\n    var priceParts = totalPrice.toString().split(\".\");\n    if (priceParts[1] === undefined) {\n      priceParts[1] = \"00\";\n    }\n    return (\n      <span>${priceParts[0]}.{priceParts[1]} {priceInfo[\"currency\"]}</span>\n    );\n  }\n\n\n\n\n\n\n  export function filterObjectList(objList, filterList) {\n\n    var retObj = {filterinfo:{}, passedobjlist:[]};\n    for (var i in objList) {\n      var obj = objList[i];\n      var passCount = 0;\n      for (var j in obj.categories) {\n        var o = obj.categories[j];\n        var combo = o.name + \"|\" + o.value;\n        if (!(o.name in retObj.filterinfo)) {\n            //retObj.filterinfo[o.name] = [];\n            retObj.filterinfo[o.name] = {};\n        }\n        //if (retObj.filterinfo[o.name].indexOf(o.value) === -1) {\n        if(true){\n            //retObj.filterinfo[o.name].push(o.value);\n            if (!(o.value in retObj.filterinfo[o.name])){\n              retObj.filterinfo[o.name][o.value] = 1;\n            }\n            else{\n              retObj.filterinfo[o.name][o.value] += 1;\n            }\n        }\n        if (filterList.indexOf(combo) !== -1) {\n          passCount += 1;\n        }\n      }\n      //if (passCount === this.state.filterlist.length){\n      if (filterList.length > 0) {\n        if (passCount > 0) {\n            retObj.passedobjlist.push(obj);\n        }\n      } else {\n        retObj.passedobjlist.push(obj);\n      }\n    }\n\n    return retObj;\n}\n\n\nexport async function getLoginResponse  ()  {\n  \n\n  var reqObj = {};  \n  var jqClass = \".loginform\";\n  $(jqClass).each(function () {\n      var fieldName = $(this).attr(\"id\");\n      var fieldValue = $(this).val();\n      reqObj[fieldName] = fieldValue;\n  });\n  console.log(\"loginReq\", reqObj);\n\n  //var errorList = verifyReqObj(reqObj, formJson.one);    \n  //if (errorList.length !== 0) {\n  //  return {status:0, error:\"request object verification failed\"};\n  //}\n  \n  const requestOptions = { \n    method: 'POST',\n    headers: { \n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(reqObj),\n    credentials: 'include'\n  };\n  const svcUrl = Zulamodule.apiHash.login;\n  const response = await fetch(svcUrl, requestOptions);\n  const result = await response.json();\n  return result;\n\n}\n\n\nexport async function getLogoutResponse  ()  {\n  \n  const requestOptions = { \n    method: 'POST',\n    headers: { \n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\"logout\":true}),\n    credentials: 'include'\n  };\n  const svcUrl = Zulamodule.apiHash.logout;\n  const response = await fetch(svcUrl, requestOptions);\n  const result = await response.json();\n  console.log(\"logout\", result);\n  return result;\n\n}\n\nexport function shortText(txt, txtLen) {\n  var shortText = \"\";\n  var parts = txt.split(\" \");\n  for (var j in parts) {\n    if (shortText.length < txtLen) {\n      shortText += parts[j] + \" \";\n    } else {\n      shortText += \" ...\";\n      break;\n    }\n  }\n  return shortText;\n}\n\n\n\nexport function rndrSearchResults(objList) {\n\n  const d1 = { width: \"100%\", margin: \"0px 0px 20px 0px\" };\n  const d2 = { fontSize: \"13px\" };\n  const d3 = { color: \"#999\" };\n\n  return  (\n    <div>\n    {objList.map((obj) => (\n      <div key={obj.name} style={d1}>\n        <div style={d2} key={objList.indexOf(obj)}>\n          {obj.url} {\">\"} {obj.categories[0].value}{\" \"}\n        </div>\n        <div key=\"id_12\">\n          <Link className=\"reglink\" \n            to={\n                { pathname: obj.url, \n                  state: { \n                    siteinfo:{\n                      siteid:obj.siteid, sitekey:obj.sitekey,\n                      bsnsid:obj.bsnsid,\n                    name:obj.name,reviews:obj.reviews}\n                  }\n                }\n              }\n          >{obj.name} - {obj.motto}</Link>\n        </div>\n        <div key=\"id_13\">{shortText(obj.description, 200)}</div>\n        <div style={d3}>{obj.city} {\",\"} {obj.country}</div>\n      </div>\n    ))}\n    </div>);\n\n}\n\n\n\n        "]},"metadata":{},"sourceType":"module"}
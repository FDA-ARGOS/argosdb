{"ast":null,"code":"import _classCallCheck from\"/Users/rykahsay/projects/argosdb/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/rykahsay/projects/argosdb/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/rykahsay/projects/argosdb/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/rykahsay/projects/argosdb/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Searchbox from\"./search_box\";import Resultfilter from\"./result_filter\";import{filterObjectList,rndrSearchResults}from'./util';import Paginator from\"./paginator\";import*as LocalConfig from\"./local_config\";import Loadingicon from\"./loading_icon\";import Alertdialog from'./dialogbox';import $ from\"jquery\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchResults=/*#__PURE__*/function(_Component){_inherits(SearchResults,_Component);var _super=_createSuper(SearchResults);function SearchResults(){var _this;_classCallCheck(this,SearchResults);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={filterlist:[],pageIdx:1,pageBatchSize:5,pageStartIdx:1,pageEndIdx:5,dialog:{status:false,msg:\"\"}};_this.handleDialogClose=function(){var tmpState=_this.state;tmpState.dialog.status=false;_this.setState(tmpState);};_this.handleKeyPress=function(e){if(e.key===\"Enter\"){e.preventDefault();_this.handleSearch();}};_this.handleSearch=function(){var queryValue=$(\"#query\").val();queryValue=queryValue===undefined?\"\":queryValue;var reqObj={coll:\"c_bco\",query:queryValue};var requestOptions={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(reqObj)};var svcUrl=LocalConfig.apiHash.get_many;fetch(svcUrl,requestOptions).then(function(res){return res.json();}).then(function(result){var tmpState=_this.state;tmpState.response=result;tmpState.isLoaded=true;if(tmpState.response.status===0){tmpState.dialog.status=true;tmpState.dialog.msg=tmpState.response.error;}_this.setState(tmpState);//console.log(\"Request:\",svcUrl);\nconsole.log(\"Ajax response:\",result);},// Note: it's important to handle errors here\n// instead of a catch() block so that we don't swallow\n// exceptions from actual bugs in components.\nfunction(error){_this.setState({isLoaded:true,error:error});});};_this.handleFilterReset=function(){$('input[name=\"filtervalue\"]:checkbox:checked').prop(\"checked\",false);_this.setState({filterlist:[]});};_this.handleFilterApply=function(){$(\"#filtercn\").toggle();var tmpList=$('input[name=\"filtervalue\"]:checkbox:checked').map(function(){return $(this).val();}).get();// <----\n_this.setState({filterlist:tmpList});};_this.handleFilterIcon=function(){$(\"#filtercn\").toggle();};_this.handlePaginatorClick=function(e){if(e.target.id.indexOf(\"_disabled\")!==-1){return;}var pageIdx=parseInt(e.target.id.split(\"_\")[2]);var tmpState=_this.state;if(e.target.id.indexOf(\"_next_\")!==-1){tmpState.pageStartIdx=tmpState.pageEndIdx+1;tmpState.pageEndIdx+=tmpState.pageBatchSize;pageIdx=tmpState.pageStartIdx;}else if(e.target.id.indexOf(\"_prev_\")!==-1){tmpState.pageStartIdx-=tmpState.pageBatchSize;tmpState.pageEndIdx=tmpState.pageStartIdx+tmpState.pageBatchSize-1;pageIdx=tmpState.pageStartIdx;}tmpState.pageIdx=pageIdx;_this.setState(tmpState);};return _this;}_createClass(SearchResults,[{key:\"componentDidMount\",value:function componentDidMount(){this.handleSearch();}},{key:\"render\",value:function render(){if(!(\"response\"in this.state)){return/*#__PURE__*/_jsx(Loadingicon,{});}var objList=this.state.response.recordlist!==undefined?this.state.response.recordlist:[];var filObj=filterObjectList(objList,[]);//var filObj = filterObjectList(objList, this.state.filterlist);\nvar filterInfo=filObj.filterinfo;var passedObjList=filObj.passedobjlist;var passedCount=passedObjList.length;var batchSize=20;var pageCount=parseInt(passedObjList.length/batchSize)+1;pageCount=objList.length>0?pageCount:0;var startIdx=batchSize*(parseInt(this.state.pageIdx)-1)+1;var endIdx=startIdx+batchSize;endIdx=endIdx>passedCount?passedCount:endIdx;var filterHideFlag=objList.length>0?\"block\":\"none\";var resultSummary=passedObjList.length+\" Results\";//return (<div>{this.state.pageStartIdx} {this.state.pageEndIdx}</div>);\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Alertdialog,{dialog:this.state.dialog,onClose:this.handleDialogClose}),/*#__PURE__*/_jsxs(\"div\",{className:\"pagecn\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"leftblock\",style:{width:\"100%\",margin:\"20px 0px 0px 0px\"},children:/*#__PURE__*/_jsx(Searchbox,{onSearch:this.handleSearch,onKeyPress:this.handleKeyPress})}),/*#__PURE__*/_jsx(\"div\",{className:\"leftblock\",style:{width:\"100%\",margin:\"5px 0px 0px 0px\",display:filterHideFlag},children:/*#__PURE__*/_jsx(Resultfilter,{filterinfo:filterInfo,resultcount:objList.length,resultSummary:resultSummary,handleSearchIcon:this.handleSearchIcon,handleFilterIcon:this.handleFilterIcon,handleFilterApply:this.handleFilterApply,handleFilterReset:this.handleFilterReset})}),/*#__PURE__*/_jsx(\"div\",{className:\"leftblock\",style:{width:\"100%\",margin:\"60px 0px 0px 0px\",borderBottom:\"1px solid #ccc\"},children:/*#__PURE__*/_jsx(Paginator,{paginatorId:\"top\",pageCount:pageCount,pageStartIdx:this.state.pageStartIdx,pageEndIdx:this.state.pageEndIdx,onClick:this.handlePaginatorClick})}),/*#__PURE__*/_jsx(\"div\",{className:\"leftblock\",style:{margin:\"20px 0px 0px 0px\"},children:rndrSearchResults(passedObjList,startIdx,endIdx)}),/*#__PURE__*/_jsx(\"div\",{className:\"leftblock\",style:{width:\"100%\",margin:\"0px 0px 0px 0px\",padding:\"5px 0px 0px 0px\",borderTop:\"1px solid #ccc\"},children:/*#__PURE__*/_jsx(Paginator,{paginatorId:\"bottom\",pageCount:pageCount,pageStartIdx:this.state.pageStartIdx,pageEndIdx:this.state.pageEndIdx,onClick:this.handlePaginatorClick})})]})]});}}]);return SearchResults;}(Component);export default SearchResults;","map":{"version":3,"sources":["/Users/rykahsay/projects/argosdb/app/src/components/search_results.jsx"],"names":["React","Component","Searchbox","Resultfilter","filterObjectList","rndrSearchResults","Paginator","LocalConfig","Loadingicon","Alertdialog","$","SearchResults","state","filterlist","pageIdx","pageBatchSize","pageStartIdx","pageEndIdx","dialog","status","msg","handleDialogClose","tmpState","setState","handleKeyPress","e","key","preventDefault","handleSearch","queryValue","val","undefined","reqObj","coll","query","requestOptions","method","headers","body","JSON","stringify","svcUrl","apiHash","get_many","fetch","then","res","json","result","response","isLoaded","error","console","log","handleFilterReset","prop","handleFilterApply","toggle","tmpList","map","get","handleFilterIcon","handlePaginatorClick","target","id","indexOf","parseInt","split","objList","recordlist","filObj","filterInfo","filterinfo","passedObjList","passedobjlist","passedCount","length","batchSize","pageCount","startIdx","endIdx","filterHideFlag","resultSummary","width","margin","display","handleSearchIcon","borderBottom","padding","borderTop"],"mappings":"4lBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,SAAP,KAAsB,cAAtB,CACA,MAAOC,CAAAA,YAAP,KAAyB,iBAAzB,CACA,OAASC,gBAAT,CAA2BC,iBAA3B,KAAmD,QAAnD,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAO,GAAKC,CAAAA,WAAZ,KAA6B,gBAA7B,CACA,MAAOC,CAAAA,WAAP,KAAwB,gBAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,aAAxB,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,C,2FAGMC,CAAAA,a,uVAEJC,K,CAAQ,CACNC,UAAU,CAAE,EADN,CAENC,OAAO,CAAC,CAFF,CAGNC,aAAa,CAAC,CAHR,CAINC,YAAY,CAAC,CAJP,CAKNC,UAAU,CAAC,CALL,CAMNC,MAAM,CAAC,CACLC,MAAM,CAAC,KADF,CAELC,GAAG,CAAC,EAFC,CAND,C,OAiBRC,iB,CAAoB,UAAM,CACxB,GAAIC,CAAAA,QAAQ,CAAG,MAAKV,KAApB,CACAU,QAAQ,CAACJ,MAAT,CAAgBC,MAAhB,CAAyB,KAAzB,CACA,MAAKI,QAAL,CAAcD,QAAd,EACD,C,OAGDE,c,CAAiB,SAACC,CAAD,CAAO,CACtB,GAAGA,CAAC,CAACC,GAAF,GAAU,OAAb,CAAqB,CACnBD,CAAC,CAACE,cAAF,GACA,MAAKC,YAAL,GACD,CACF,C,OAGAA,Y,CAAe,UAAM,CACpB,GAAIC,CAAAA,UAAU,CAAGnB,CAAC,CAAC,QAAD,CAAD,CAAYoB,GAAZ,EAAjB,CACAD,UAAU,CAAIA,UAAU,GAAKE,SAAf,CAA2B,EAA3B,CAAgCF,UAA9C,CACA,GAAIG,CAAAA,MAAM,CAAG,CAACC,IAAI,CAAC,OAAN,CAAeC,KAAK,CAACL,UAArB,CAAb,CAEA,GAAMM,CAAAA,cAAc,CAAG,CACrBC,MAAM,CAAE,MADa,CAErBC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAFY,CAGrBC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeR,MAAf,CAHe,CAAvB,CAKA,GAAMS,CAAAA,MAAM,CAAGlC,WAAW,CAACmC,OAAZ,CAAoBC,QAAnC,CAEAC,KAAK,CAACH,MAAD,CAASN,cAAT,CAAL,CACGU,IADH,CACQ,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EADR,EAEGF,IAFH,CAGI,SAACG,MAAD,CAAY,CACV,GAAI1B,CAAAA,QAAQ,CAAG,MAAKV,KAApB,CACAU,QAAQ,CAAC2B,QAAT,CAAoBD,MAApB,CACA1B,QAAQ,CAAC4B,QAAT,CAAoB,IAApB,CACA,GAAI5B,QAAQ,CAAC2B,QAAT,CAAkB9B,MAAlB,GAA6B,CAAjC,CAAmC,CACjCG,QAAQ,CAACJ,MAAT,CAAgBC,MAAhB,CAAyB,IAAzB,CACAG,QAAQ,CAACJ,MAAT,CAAgBE,GAAhB,CAAsBE,QAAQ,CAAC2B,QAAT,CAAkBE,KAAxC,CACD,CACD,MAAK5B,QAAL,CAAcD,QAAd,EACA;AACA8B,OAAO,CAACC,GAAR,CAAY,gBAAZ,CAA8BL,MAA9B,EACD,CAdL,CAeI;AACA;AACA;AACA,SAACG,KAAD,CAAW,CACT,MAAK5B,QAAL,CAAc,CACZ2B,QAAQ,CAAE,IADE,CAEZC,KAAK,CAALA,KAFY,CAAd,EAID,CAvBL,EAyBD,C,OAGDG,iB,CAAoB,UAAM,CACxB5C,CAAC,CAAC,4CAAD,CAAD,CAAgD6C,IAAhD,CAAqD,SAArD,CAAgE,KAAhE,EACA,MAAKhC,QAAL,CAAc,CAAEV,UAAU,CAAE,EAAd,CAAd,EACD,C,OAED2C,iB,CAAoB,UAAM,CACxB9C,CAAC,CAAC,WAAD,CAAD,CAAe+C,MAAf,GACA,GAAIC,CAAAA,OAAO,CAAGhD,CAAC,CAAC,4CAAD,CAAD,CACXiD,GADW,CACP,UAAY,CACf,MAAOjD,CAAAA,CAAC,CAAC,IAAD,CAAD,CAAQoB,GAAR,EAAP,CACD,CAHW,EAIX8B,GAJW,EAAd,CAIU;AACV,MAAKrC,QAAL,CAAc,CAAEV,UAAU,CAAE6C,OAAd,CAAd,EACD,C,OAEDG,gB,CAAmB,UAAM,CACvBnD,CAAC,CAAC,WAAD,CAAD,CAAe+C,MAAf,GACD,C,OAMDK,oB,CAAuB,SAACrC,CAAD,CAAO,CAC5B,GAAGA,CAAC,CAACsC,MAAF,CAASC,EAAT,CAAYC,OAAZ,CAAoB,WAApB,IAAqC,CAAC,CAAzC,CAA2C,CACzC,OACD,CACD,GAAInD,CAAAA,OAAO,CAAGoD,QAAQ,CAACzC,CAAC,CAACsC,MAAF,CAASC,EAAT,CAAYG,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,CAAD,CAAtB,CACA,GAAI7C,CAAAA,QAAQ,CAAG,MAAKV,KAApB,CACA,GAAGa,CAAC,CAACsC,MAAF,CAASC,EAAT,CAAYC,OAAZ,CAAoB,QAApB,IAAkC,CAAC,CAAtC,CAAwC,CACtC3C,QAAQ,CAACN,YAAT,CAAwBM,QAAQ,CAACL,UAAT,CAAsB,CAA9C,CACAK,QAAQ,CAACL,UAAT,EAAuBK,QAAQ,CAACP,aAAhC,CACAD,OAAO,CAAGQ,QAAQ,CAACN,YAAnB,CACD,CAJD,IAKK,IAAGS,CAAC,CAACsC,MAAF,CAASC,EAAT,CAAYC,OAAZ,CAAoB,QAApB,IAAkC,CAAC,CAAtC,CAAwC,CAC3C3C,QAAQ,CAACN,YAAT,EAAyBM,QAAQ,CAACP,aAAlC,CACAO,QAAQ,CAACL,UAAT,CAAsBK,QAAQ,CAACN,YAAT,CAAwBM,QAAQ,CAACP,aAAjC,CAAiD,CAAvE,CACAD,OAAO,CAAGQ,QAAQ,CAACN,YAAnB,CACD,CACDM,QAAQ,CAACR,OAAT,CAAmBA,OAAnB,CACA,MAAKS,QAAL,CAAcD,QAAd,EAED,C,0EAtGD,4BAAoB,CAClB,KAAKM,YAAL,GACD,C,sBAsGD,iBAAS,CAEP,GAAI,EAAE,YAAc,MAAKhB,KAArB,CAAJ,CAAgC,CAC9B,mBAAO,KAAC,WAAD,IAAP,CACD,CAED,GAAMwD,CAAAA,OAAO,CAAI,KAAKxD,KAAL,CAAWqC,QAAX,CAAoBoB,UAApB,GAAmCtC,SAAnC,CAA+C,KAAKnB,KAAL,CAAWqC,QAAX,CAAoBoB,UAAnE,CAAgF,EAAjG,CAEA,GAAIC,CAAAA,MAAM,CAAGlE,gBAAgB,CAACgE,OAAD,CAAU,EAAV,CAA7B,CAEC;AACD,GAAIG,CAAAA,UAAU,CAAGD,MAAM,CAACE,UAAxB,CACA,GAAIC,CAAAA,aAAa,CAAGH,MAAM,CAACI,aAA3B,CACA,GAAIC,CAAAA,WAAW,CAAGF,aAAa,CAACG,MAAhC,CAEA,GAAIC,CAAAA,SAAS,CAAG,EAAhB,CACA,GAAIC,CAAAA,SAAS,CAAGZ,QAAQ,CAACO,aAAa,CAACG,MAAd,CAAqBC,SAAtB,CAAR,CAA2C,CAA3D,CACAC,SAAS,CAAIV,OAAO,CAACQ,MAAR,CAAiB,CAAjB,CAAqBE,SAArB,CAAiC,CAA9C,CAGA,GAAIC,CAAAA,QAAQ,CAAGF,SAAS,EAAIX,QAAQ,CAAC,KAAKtD,KAAL,CAAWE,OAAZ,CAAR,CAA+B,CAAnC,CAAT,CAAiD,CAAhE,CACA,GAAIkE,CAAAA,MAAM,CAAGD,QAAQ,CAAGF,SAAxB,CACAG,MAAM,CAAIA,MAAM,CAAGL,WAAT,CAAuBA,WAAvB,CAAqCK,MAA/C,CAEA,GAAIC,CAAAA,cAAc,CAAIb,OAAO,CAACQ,MAAR,CAAiB,CAAjB,CAAqB,OAArB,CAA+B,MAArD,CAEA,GAAIM,CAAAA,aAAa,CAAGT,aAAa,CAACG,MAAd,CAAuB,UAA3C,CAGD;AAEC,mBACE,oCACA,KAAC,WAAD,EAAa,MAAM,CAAE,KAAKhE,KAAL,CAAWM,MAAhC,CAAwC,OAAO,CAAE,KAAKG,iBAAtD,EADA,cAGA,aAAK,SAAS,CAAC,QAAf,wBAEE,YAAK,SAAS,CAAC,WAAf,CAA2B,KAAK,CAAE,CAAC8D,KAAK,CAAC,MAAP,CAAeC,MAAM,CAAC,kBAAtB,CAAlC,uBACE,KAAC,SAAD,EAAW,QAAQ,CAAE,KAAKxD,YAA1B,CAAwC,UAAU,CAAE,KAAKJ,cAAzD,EADF,EAFF,cAKE,YAAK,SAAS,CAAC,WAAf,CAA2B,KAAK,CAAE,CAAC2D,KAAK,CAAC,MAAP,CAAeC,MAAM,CAAC,iBAAtB,CAAwCC,OAAO,CAACJ,cAAhD,CAAlC,uBACE,KAAC,YAAD,EACE,UAAU,CAAEV,UADd,CAEE,WAAW,CAAEH,OAAO,CAACQ,MAFvB,CAGE,aAAa,CAAEM,aAHjB,CAIE,gBAAgB,CAAE,KAAKI,gBAJzB,CAKE,gBAAgB,CAAE,KAAKzB,gBALzB,CAME,iBAAiB,CAAE,KAAKL,iBAN1B,CAOE,iBAAiB,CAAE,KAAKF,iBAP1B,EADF,EALF,cAiBE,YAAK,SAAS,CAAC,WAAf,CACE,KAAK,CAAE,CAAC6B,KAAK,CAAC,MAAP,CAAeC,MAAM,CAAC,kBAAtB,CACPG,YAAY,CAAC,gBADN,CADT,uBAGE,KAAC,SAAD,EACE,WAAW,CAAE,KADf,CAEE,SAAS,CAAET,SAFb,CAGE,YAAY,CAAE,KAAKlE,KAAL,CAAWI,YAH3B,CAIE,UAAU,CAAE,KAAKJ,KAAL,CAAWK,UAJzB,CAKE,OAAO,CAAE,KAAK6C,oBALhB,EAHF,EAjBF,cA6BE,YAAK,SAAS,CAAC,WAAf,CACE,KAAK,CAAE,CAACsB,MAAM,CAAC,kBAAR,CADT,UAEG/E,iBAAiB,CAACoE,aAAD,CAAgBM,QAAhB,CAA0BC,MAA1B,CAFpB,EA7BF,cAkCE,YAAK,SAAS,CAAC,WAAf,CACE,KAAK,CAAE,CAACG,KAAK,CAAC,MAAP,CACPC,MAAM,CAAC,iBADA,CAEPI,OAAO,CAAC,iBAFD,CAGPC,SAAS,CAAC,gBAHH,CADT,uBAKE,KAAC,SAAD,EACE,WAAW,CAAE,QADf,CAEE,SAAS,CAAEX,SAFb,CAGE,YAAY,CAAE,KAAKlE,KAAL,CAAWI,YAH3B,CAIE,UAAU,CAAE,KAAKJ,KAAL,CAAWK,UAJzB,CAKE,OAAO,CAAE,KAAK6C,oBALhB,EALF,EAlCF,GAHA,GADF,CAwDD,C,2BA7MyB7D,S,EAgN5B,cAAeU,CAAAA,aAAf","sourcesContent":["import React, { Component } from \"react\";\nimport Searchbox from \"./search_box\";\nimport Resultfilter from \"./result_filter\";\nimport { filterObjectList, rndrSearchResults} from './util';\nimport Paginator from \"./paginator\";\nimport * as LocalConfig from \"./local_config\";\nimport Loadingicon from \"./loading_icon\";\nimport Alertdialog from './dialogbox';\nimport $ from \"jquery\";\n\n\nclass SearchResults extends Component {  \n  \n  state = {\n    filterlist: [],\n    pageIdx:1,\n    pageBatchSize:5,\n    pageStartIdx:1,\n    pageEndIdx:5,\n    dialog:{\n      status:false, \n      msg:\"\"\n    }\n  };\n\n  componentDidMount() {\n    this.handleSearch();\n  }\n\n\n  handleDialogClose = () => {\n    var tmpState = this.state;\n    tmpState.dialog.status = false;\n    this.setState(tmpState);\n  }\n\n  \n  handleKeyPress = (e) => {\n    if(e.key === \"Enter\"){\n      e.preventDefault();\n      this.handleSearch();\n    }\n  }\n \n\n   handleSearch = () => {\n    var queryValue = $(\"#query\").val();\n    queryValue = (queryValue === undefined ? \"\" : queryValue);\n    var reqObj = {coll:\"c_bco\", query:queryValue};\n\n    const requestOptions = { \n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(reqObj)\n    };\n    const svcUrl = LocalConfig.apiHash.get_many;\n\n    fetch(svcUrl, requestOptions)\n      .then((res) => res.json())\n      .then(\n        (result) => {\n          var tmpState = this.state;\n          tmpState.response = result;\n          tmpState.isLoaded = true;          \n          if (tmpState.response.status === 0){\n            tmpState.dialog.status = true;\n            tmpState.dialog.msg = tmpState.response.error;\n          }\n          this.setState(tmpState);\n          //console.log(\"Request:\",svcUrl);\n          console.log(\"Ajax response:\", result);\n        },\n        // Note: it's important to handle errors here\n        // instead of a catch() block so that we don't swallow\n        // exceptions from actual bugs in components.\n        (error) => {\n          this.setState({\n            isLoaded: true,\n            error,\n          });\n        }\n      );\n  }\n\n\n  handleFilterReset = () => {\n    $('input[name=\"filtervalue\"]:checkbox:checked').prop(\"checked\", false);\n    this.setState({ filterlist: [] });\n  };\n\n  handleFilterApply = () => {\n    $(\"#filtercn\").toggle();\n    var tmpList = $('input[name=\"filtervalue\"]:checkbox:checked')\n      .map(function () {\n        return $(this).val();\n      })\n      .get(); // <----\n    this.setState({ filterlist: tmpList });\n  };\n\n  handleFilterIcon = () => {\n    $(\"#filtercn\").toggle();\n  };\n\n  \n\n\n\n  handlePaginatorClick = (e) => {\n    if(e.target.id.indexOf(\"_disabled\") !== -1){\n      return;\n    }\n    var pageIdx = parseInt(e.target.id.split(\"_\")[2]);\n    var tmpState = this.state;\n    if(e.target.id.indexOf(\"_next_\") !== -1){\n      tmpState.pageStartIdx = tmpState.pageEndIdx + 1;\n      tmpState.pageEndIdx += tmpState.pageBatchSize;\n      pageIdx = tmpState.pageStartIdx;\n    }\n    else if(e.target.id.indexOf(\"_prev_\") !== -1){\n      tmpState.pageStartIdx -= tmpState.pageBatchSize;\n      tmpState.pageEndIdx = tmpState.pageStartIdx + tmpState.pageBatchSize - 1;\n      pageIdx = tmpState.pageStartIdx;\n    }\n    tmpState.pageIdx = pageIdx;\n    this.setState(tmpState);\n\n  }\n\n  render() {\n  \n    if (!(\"response\" in this.state)){\n      return <Loadingicon/>\n    }\n\n    const objList = (this.state.response.recordlist !== undefined ? this.state.response.recordlist : []);\n    \n    var filObj = filterObjectList(objList, []);\n\n     //var filObj = filterObjectList(objList, this.state.filterlist);\n    var filterInfo = filObj.filterinfo;\n    var passedObjList = filObj.passedobjlist;\n    var passedCount = passedObjList.length;\n\n    var batchSize = 20;\n    var pageCount = parseInt(passedObjList.length/batchSize) + 1;\n    pageCount = (objList.length > 0 ? pageCount : 0);\n\n\n    var startIdx = batchSize * (parseInt(this.state.pageIdx) - 1) + 1;\n    var endIdx = startIdx + batchSize;\n    endIdx = (endIdx > passedCount ? passedCount : endIdx);\n\n    var filterHideFlag = (objList.length > 0 ? \"block\" : \"none\");\n\n    var resultSummary = passedObjList.length + \" Results\";\n    \n\n   //return (<div>{this.state.pageStartIdx} {this.state.pageEndIdx}</div>);\n\n    return (\n      <div>\n      <Alertdialog dialog={this.state.dialog} onClose={this.handleDialogClose}/>\n\n      <div className=\"pagecn\">\n        \n        <div className=\"leftblock\" style={{width:\"100%\", margin:\"20px 0px 0px 0px\"}}>\n          <Searchbox onSearch={this.handleSearch} onKeyPress={this.handleKeyPress}/>\n        </div>\n        <div className=\"leftblock\" style={{width:\"100%\", margin:\"5px 0px 0px 0px\",display:filterHideFlag}}>\n          <Resultfilter\n            filterinfo={filterInfo}\n            resultcount={objList.length}\n            resultSummary={resultSummary}\n            handleSearchIcon={this.handleSearchIcon}\n            handleFilterIcon={this.handleFilterIcon}\n            handleFilterApply={this.handleFilterApply}\n            handleFilterReset={this.handleFilterReset}\n          />\n        </div>\n      \n        <div className=\"leftblock\" \n          style={{width:\"100%\", margin:\"60px 0px 0px 0px\",\n          borderBottom:\"1px solid #ccc\"}}>\n          <Paginator \n            paginatorId={\"top\"}\n            pageCount={pageCount}\n            pageStartIdx={this.state.pageStartIdx}\n            pageEndIdx={this.state.pageEndIdx}\n            onClick={this.handlePaginatorClick}\n          />\n        </div>\n\n        <div className=\"leftblock\" \n          style={{margin:\"20px 0px 0px 0px\"}}>\n          {rndrSearchResults(passedObjList, startIdx, endIdx)}\n        </div>\n\n        <div className=\"leftblock\" \n          style={{width:\"100%\", \n          margin:\"0px 0px 0px 0px\",\n          padding:\"5px 0px 0px 0px\",\n          borderTop:\"1px solid #ccc\"}}>\n          <Paginator \n            paginatorId={\"bottom\"}\n            pageCount={pageCount}\n            pageStartIdx={this.state.pageStartIdx}\n            pageEndIdx={this.state.pageEndIdx}\n            onClick={this.handlePaginatorClick}\n          />\n        </div>\n\n      </div>\n      \n      </div>\n    );\n  }\n}\n\nexport default SearchResults;\n"]},"metadata":{},"sourceType":"module"}
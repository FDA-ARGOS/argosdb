{"version":3,"file":"index.js","sources":["../src/Element.tsx","../src/Filter.ts","../src/constants.ts","../src/StyleFilter.ts","../src/Parser.ts","../src/Markup.tsx","../src/Interweave.tsx","../src/match.ts","../src/Matcher.ts","../src/index.ts"],"sourcesContent":null,"names":["Element","attributes","className","children","selfClose","tagName","Tag","React","Filter","attribute","name","value","node","TYPE_FLOW","TYPE_SECTION","TYPE_HEADING","TYPE_PHRASING","TYPE_EMBEDDED","TYPE_INTERACTIVE","TYPE_PALPABLE","tagConfigs","a","content","self","type","address","invalid","audio","br","void","body","button","caption","parent","col","colgroup","details","dd","dl","dt","figcaption","footer","header","hr","img","li","main","ol","picture","rb","rp","rt","rtc","ruby","source","summary","table","tbody","td","tfoot","th","thead","tr","track","ul","video","wbr","createConfigBuilder","config","forEach","TAGS","Object","freeze","BANNED_TAG_LIST","ALLOWED_TAG_LIST","keys","filter","tag","FILTER_ALLOW","FILTER_DENY","FILTER_CAST_NUMBER","FILTER_CAST_BOOL","FILTER_NO_CAST","ATTRIBUTES","alt","cite","class","colspan","controls","datetime","default","disabled","dir","height","href","id","kind","label","lang","loading","loop","media","muted","poster","role","rowspan","scope","sizes","span","start","style","src","srclang","srcset","target","title","width","ATTRIBUTES_TO_PROPS","INVALID_STYLES","StyleFilter","key","String","match","ELEMENT_NODE","TEXT_NODE","INVALID_ROOTS","ALLOWED_ATTRS","OPEN_TOKEN","createDocument","window","document","undefined","implementation","createHTMLDocument","Parser","allowed","banned","blocked","container","props","matchers","filters","keyIndex","constructor","markup","__DEV__","TypeError","createContainer","Set","allowList","blockList","applyAttributeFilters","reduce","nextValue","applyNodeFilters","nextNode","applyMatchers","string","parentConfig","elements","matchedString","elementIndex","parts","matcher","asTag","toLowerCase","getTagConfig","inverseName","isTagAllowed","canRenderChild","tokenizedString","index","length","valid","isVoid","partProps","tokenName","propName","slice","greedy","replaceTokens","childConfig","includes","Boolean","convertLineBreaks","noHtml","disableLineBreaks","nextMarkup","replace","factory","global","INTERWEAVE_SSR_POLYFILL","doc","containerTagName","el","createElement","Error","innerHTML","escapeHtml","extractAttributes","allowAttributes","count","nodeType","Array","from","attr","newName","isSafe","startsWith","newValue","extractStyleAttribute","Number","parseFloat","styles","letter","toUpperCase","common","HTMLAnchorElement","getAttribute","charAt","protocol","has","allowElements","parse","parseNode","nodeName","parentNode","noHtmlExceptMatchers","transform","transformOnlyAllowList","mergedText","childNodes","push","transformed","cloneElement","elementProps","concat","text","textContent","isArray","nodes","open","startIndex","endIndex","close","RegExp","Markup","emptyContent","parsedContent","noWrap","mainContent","Interweave","disableFilters","disableMatchers","onAfterParse","onBeforeParse","parserProps","allMatchers","allFilters","beforeCallbacks","afterCallbacks","bind","callback","nextString","parser","parserNodes","nextNodes","pattern","matches","Matcher","options","element","replaceWith","isValidElement","doMatch"],"mappings":"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"}